# Phase 3: Advanced Components & Form Validation\n\n## Overview\nCompleted Phase 3 with loading states, error handling, form validation, and advanced form components.\n\n## âœ… Completed in Phase 3\n\n### 1. Loading & Skeleton Components\n- âœ… **Spinner** - Animated loader with multiple sizes and colors\n- âœ… **Skeleton** - Placeholder loading states (text, circle, rect)\n- âœ… **SkeletonTableRow** - Loading state for tables\n- âœ… **SkeletonCard** - Loading state for card components\n- âœ… **SkeletonListItem** - Loading state for list items\n\n### 2. Empty State & Error Handling\n- âœ… **EmptyState** - Display when no data available\n- âœ… **ErrorBoundary** - Catch component errors\n- âœ… **ErrorAlert** - Display error messages\n\n### 3. Advanced Form Components\n- âœ… **OTPInput** - Multi-field OTP input with auto-focus\n- âœ… **AmountInput** - Currency-aware input with validation\n- âœ… **DateInput** - Date picker with validation\n- âœ… **CheckboxGroup** - Grouped checkboxes with descriptions\n- âœ… **RadioGroup** - Grouped radio buttons with descriptions\n\n### 4. Form Validation Utilities\n- âœ… **Validators** - Email, phone, URL, password, credit card, etc.\n- âœ… **validateForm** - Comprehensive form validation\n- âœ… **useForm Hook** - React hook for form management\n- âœ… **Format Functions** - Phone and credit card formatting\n- âœ… **Luhn Check** - Credit card validation\n\n## ğŸ“ Project Structure (Phase 3)\n\n```\nsrc/\nâ”œâ”€â”€ components/\nâ”‚   â”œâ”€â”€ common/\nâ”‚   â”‚   â”œâ”€â”€ Loaders.tsx              # Spinner & Skeleton components\nâ”‚   â”‚   â”œâ”€â”€ EmptyState.tsx           # Empty & Error states\nâ”‚   â”‚   â”œâ”€â”€ FormComponents.tsx       # Advanced form inputs\nâ”‚   â”‚   â”œâ”€â”€ Modal.tsx                # Modal & Confirm dialogs\nâ”‚   â”‚   â”œâ”€â”€ Toast.tsx                # Toast notifications\nâ”‚   â”‚   â””â”€â”€ index.ts                 # Common exports\nâ”‚   â””â”€â”€ dashboard/                   # Dashboard (from Phase 1 & 2)\nâ”œâ”€â”€ utils/\nâ”‚   â”œâ”€â”€ validation.ts                # Validation utilities\nâ”‚   â””â”€â”€ index.ts                     # Utils exports\nâ”œâ”€â”€ stores/                          # Stores (from Phase 2)\nâ””â”€â”€ services/                        # Services (from Phase 2)\n```\n\n## ğŸš€ Usage Examples\n\n### Loading States\n\n```typescript\nimport { Spinner, Skeleton, SkeletonCard } from '@/components/common';\n\n// Spinner\n<Spinner size=\"lg\" color=\"primary\" fullScreen={false} />\n\n// Skeleton\n<Skeleton width=\"100%\" height=\"20px\" variant=\"text\" count={3} />\n\n// Skeleton Cards\n<SkeletonCard count={3} />\n```\n\n### Empty States\n\n```typescript\nimport { EmptyState } from '@/components/common';\n\n<EmptyState\n  variant=\"search\"\n  title=\"No results found\"\n  description=\"Try adjusting your filters\"\n  action={{\n    label: 'Reset Filters',\n    onClick: () => handleReset(),\n  }}\n/>\n```\n\n### Error Handling\n\n```typescript\nimport { ErrorBoundary, ErrorAlert } from '@/components/common';\n\n<ErrorBoundary>\n  <YourComponent />\n</ErrorBoundary>\n\n<ErrorAlert\n  error={error}\n  onDismiss={() => setError(null)}\n/>\n```\n\n### OTP Input\n\n```typescript\nimport { OTPInput } from '@/components/common';\n\n<OTPInput\n  length={6}\n  onComplete={(otp) => {\n    console.log('OTP entered:', otp);\n  }}\n  error={errors.otp}\n/>\n```\n\n### Amount Input\n\n```typescript\nimport { AmountInput } from '@/components/common';\n\n<AmountInput\n  label=\"Transfer Amount\"\n  currency=\"USD\"\n  placeholder=\"0.00\"\n  error={errors.amount}\n  onAmountChange={(amount) => {\n    console.log('Amount:', amount);\n  }}\n/>\n```\n\n### Form Validation\n\n```typescript\nimport { useForm, PATTERNS, validators } from '@/utils';\n\nconst { values, errors, handleChange, handleSubmit } = useForm({\n  initialValues: {\n    email: '',\n    password: '',\n  },\n  rules: {\n    email: {\n      required: 'Email is required',\n      pattern: [PATTERNS.EMAIL, 'Invalid email format'],\n    },\n    password: {\n      required: true,\n      minLength: [8, 'Minimum 8 characters'],\n      validate: (value) => {\n        return validators.password(value) ? true : 'Weak password';\n      },\n    },\n  },\n  onSubmit: async (values) => {\n    await authService.login(values.email, values.password);\n  },\n});\n```\n\n### Checkbox Group\n\n```typescript\nimport { CheckboxGroup } from '@/components/common';\nimport { useState } from 'react';\n\nconst [selected, setSelected] = useState<string[]>([]);\n\n<CheckboxGroup\n  label=\"Notification Preferences\"\n  options={[\n    { value: 'email', label: 'Email', description: 'Receive email notifications' },\n    { value: 'sms', label: 'SMS', description: 'Receive SMS alerts' },\n    { value: 'push', label: 'Push', description: 'Receive push notifications' },\n  ]}\n  selected={selected}\n  onChange={setSelected}\n/>\n```\n\n### Radio Group\n\n```typescript\nimport { RadioGroup } from '@/components/common';\nimport { useState } from 'react';\n\nconst [transferType, setTransferType] = useState('local');\n\n<RadioGroup\n  label=\"Transfer Type\"\n  options={[\n    { value: 'local', label: 'Local Transfer', description: 'Same country' },\n    { value: 'international', label: 'International', description: 'Cross-border' },\n  ]}\n  selected={transferType}\n  onChange={setTransferType}\n/>\n```\n\n## ğŸ”„ Complete Form Example\n\n```typescript\nimport React, { useState } from 'react';\nimport {\n  useForm,\n  PATTERNS,\n  validators,\n  validateForm,\n} from '@/utils';\nimport {\n  FormInput,\n  AmountInput,\n  OTPInput,\n  ToastContainer,\n  useToast,\n} from '@/components/common';\nimport { transferService } from '@/services';\n\nfunction TransferForm() {\n  const [step, setStep] = useState(1);\n  const { toasts, removeToast, success, error } = useToast();\n\n  const form = useForm({\n    initialValues: {\n      recipientAccount: '',\n      amount: '',\n      transferType: 'local',\n      otp: '',\n    },\n    rules: {\n      recipientAccount: {\n        required: 'Recipient account is required',\n        pattern: [\n          PATTERNS.ACCOUNT_NUMBER,\n          'Invalid account number',\n        ],\n      },\n      amount: {\n        required: 'Amount is required',\n        validate: (value) => {\n          const num = parseFloat(value);\n          return num > 0 ? true : 'Amount must be greater than 0';\n        },\n      },\n      otp: {\n        required: 'OTP is required',\n        minLength: [6, 'OTP must be 6 digits'],\n      },\n    },\n    onSubmit: async (values) => {\n      try {\n        await transferService.createTransfer({\n          recipientAccount: values.recipientAccount,\n          amount: parseFloat(values.amount),\n          type: values.transferType,\n        });\n        success('Transfer completed successfully!');\n        form.reset();\n      } catch (err) {\n        error('Transfer failed');\n      }\n    },\n  });\n\n  return (\n    <form onSubmit={form.handleSubmit} className=\"max-w-md mx-auto\">\n      {step === 1 && (\n        <div className=\"space-y-4\">\n          <FormInput\n            label=\"Recipient Account\"\n            name=\"recipientAccount\"\n            placeholder=\"Enter account number\"\n            value={form.values.recipientAccount}\n            onChange={form.handleChange}\n            onBlur={form.handleBlur}\n            error={\n              form.touched.recipientAccount\n                ? form.errors.recipientAccount\n                : undefined\n            }\n          />\n          <AmountInput\n            label=\"Amount\"\n            currency=\"USD\"\n            value={form.values.amount}\n            onChange={form.handleChange}\n            error={\n              form.touched.amount ? form.errors.amount : undefined\n            }\n          />\n          <button\n            type=\"button\"\n            onClick={() => setStep(2)}\n            className=\"w-full px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700\"\n          >\n            Continue\n          </button>\n        </div>\n      )}\n\n      {step === 2 && (\n        <div className=\"space-y-4\">\n          <OTPInput\n            length={6}\n            onComplete={(otp) => {\n              form.setFieldValue('otp', otp);\n            }}\n            error={form.errors.otp}\n          />\n          <div className=\"flex gap-2\">\n            <button\n              type=\"button\"\n              onClick={() => setStep(1)}\n              className=\"flex-1 px-4 py-2 bg-gray-300 text-gray-900 rounded-lg hover:bg-gray-400\"\n            >\n              Back\n            </button>\n            <button\n              type=\"submit\"\n              disabled={form.isSubmitting}\n              className=\"flex-1 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50\"\n            >\n              {form.isSubmitting ? 'Processing...' : 'Confirm'}\n            </button>\n          </div>\n        </div>\n      )}\n\n      <ToastContainer toasts={toasts} onRemove={removeToast} />\n    </form>\n  );\n}\n\nexport default TransferForm;\n```\n\n## ğŸ§ª Validation Examples\n\n### Email Validation\n\n```typescript\nconst errors = validateForm(\n  { email: 'invalid-email' },\n  {\n    email: {\n      required: true,\n      pattern: [PATTERNS.EMAIL, 'Invalid email'],\n    },\n  }\n);\n// errors.email === 'Invalid email'\n```\n\n### Password Validation\n\n```typescript\nconst errors = validateForm(\n  { password: 'weak' },\n  {\n    password: {\n      required: true,\n      minLength: 8,\n      validate: (value) => validators.password(value),\n    },\n  }\n);\n```\n\n### Credit Card Validation\n\n```typescript\nconst errors = validateForm(\n  { card: '4532015112830366' },\n  {\n    card: {\n      required: true,\n      validate: (value) => validators.creditCard(value),\n    },\n  }\n);\n```\n\n## ğŸ“Š Validation Patterns Available\n\n```typescript\nPATTERNS = {\n  EMAIL,           // Email addresses\n  PHONE,           // Phone numbers\n  URL,             // URLs\n  CREDIT_CARD,     // Credit card numbers\n  CVV,             // CVV/CVC codes\n  ACCOUNT_NUMBER,  // Bank account numbers\n  ROUTING_NUMBER,  // Routing numbers\n}\n```\n\n## ğŸ”„ State Management Integration\n\n```typescript\nimport { useTransactionStore } from '@/stores';\nimport { useForm } from '@/utils';\n\nfunction TransferComponent() {\n  const { addTransfer } = useTransactionStore();\n  const { toasts, removeToast, success, error } = useToast();\n\n  const form = useForm({\n    initialValues: { /* ... */ },\n    rules: { /* ... */ },\n    onSubmit: async (values) => {\n      try {\n        const transfer = await transferService.createTransfer(values);\n        addTransfer(transfer);\n        success('Transfer created!');\n      } catch (err) {\n        error('Transfer failed');\n      }\n    },\n  });\n\n  return (\n    <>\n      <form onSubmit={form.handleSubmit}>{/* ... */}</form>\n      <ToastContainer toasts={toasts} onRemove={removeToast} />\n    </>\n  );\n}\n```\n\n## ğŸ¯ Best Practices\n\n1. **Always use validation hooks** - Use `useForm` for consistency\n2. **Show loading states** - Use Skeleton while fetching data\n3. **Error boundaries** - Wrap components in ErrorBoundary\n4. **Clear error messages** - Provide helpful validation feedback\n5. **Empty states** - Handle zero data gracefully\n6. **Field-level validation** - Validate on blur, not just submit\n7. **Sensitive data** - Use OTP for confirmations\n8. **Currency formatting** - Use AmountInput for money values\n\n## ğŸ“‹ Component Checklist\n\n- [ ] Implement loading skeletons on all data-fetching pages\n- [ ] Add error boundaries to critical sections\n- [ ] Use toasts for user feedback\n- [ ] Validate all form inputs\n- [ ] Handle empty states\n- [ ] Format currency and phone numbers\n- [ ] Show OTP for sensitive operations\n- [ ] Test validation edge cases\n\n## ğŸš€ Next Steps (Phase 4)\n\n1. **Integrate with Dashboard Pages**\n   - Add loaders to TransactionsPage\n   - Add empty states\n   - Add error handling\n\n2. **Build Advanced Components**\n   - Data tables with sorting/filtering\n   - Charts and visualizations\n   - Calendar components\n\n3. **Feature Development**\n   - Authentication flow\n   - Search functionality\n   - Export functionality\n\n4. **Testing**\n   - Unit tests for validation\n   - Component tests\n   - Integration tests\n\n---\n\n**Status**: âœ… Phase 3 Complete - Advanced Components Ready\n**Next**: Phase 4 - Dashboard Integration & Advanced Features\n"