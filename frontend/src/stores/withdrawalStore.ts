import { create } from 'zustand';\nimport axios from 'axios';\n\ninterface Withdrawal {\n  id: string;\n  userId: string;\n  amount: number;\n  fee: number;\n  totalAmount: number;\n  withdrawalMethod: string;\n  accountNumber: string;\n  bankCode: string;\n  accountName: string;\n  status: 'PENDING' | 'COMPLETED' | 'REJECTED' | 'CANCELLED';\n  narration?: string;\n  createdAt: string;\n  processedAt?: string;\n}\n\ninterface WithdrawalStore {\n  withdrawals: Withdrawal[];\n  currentWithdrawal: Withdrawal | null;\n  loading: boolean;\n  error: string | null;\n\n  // Actions\n  initiateWithdrawal: (data: any) => Promise<any>;\n  getWithdrawalHistory: () => Promise<void>;\n  getWithdrawalById: (withdrawalId: string) => Promise<void>;\n  cancelWithdrawal: (withdrawalId: string) => Promise<void>;\n  clearError: () => void;\n}\n\nconst API_URL = process.env.REACT_APP_API_URL || 'http://localhost:3000/api';\n\nexport const useWithdrawalStore = create<WithdrawalStore>((set) => ({\n  withdrawals: [],\n  currentWithdrawal: null,\n  loading: false,\n  error: null,\n\n  initiateWithdrawal: async (data) => {\n    set({ loading: true, error: null });\n    try {\n      const response = await axios.post(`${API_URL}/withdrawals/initiate`, data, {\n        headers: {\n          Authorization: `Bearer ${localStorage.getItem('token')}`,\n        },\n      });\n\n      set({ currentWithdrawal: response.data, loading: false });\n      return response.data;\n    } catch (err: any) {\n      const error = err.response?.data?.message || 'Failed to initiate withdrawal';\n      set({ error, loading: false });\n      throw error;\n    }\n  },\n\n  getWithdrawalHistory: async () => {\n    set({ loading: true, error: null });\n    try {\n      const response = await axios.get(`${API_URL}/withdrawals/history`, {\n        headers: {\n          Authorization: `Bearer ${localStorage.getItem('token')}`,\n        },\n      });\n\n      set({ withdrawals: response.data, loading: false });\n    } catch (err: any) {\n      const error = err.response?.data?.message || 'Failed to fetch withdrawal history';\n      set({ error, loading: false });\n      throw error;\n    }\n  },\n\n  getWithdrawalById: async (withdrawalId) => {\n    set({ loading: true, error: null });\n    try {\n      const response = await axios.get(`${API_URL}/withdrawals/${withdrawalId}`, {\n        headers: {\n          Authorization: `Bearer ${localStorage.getItem('token')}`,\n        },\n      });\n\n      set({ currentWithdrawal: response.data, loading: false });\n    } catch (err: any) {\n      const error = err.response?.data?.message || 'Failed to fetch withdrawal details';\n      set({ error, loading: false });\n      throw error;\n    }\n  },\n\n  cancelWithdrawal: async (withdrawalId) => {\n    set({ loading: true, error: null });\n    try {\n      const response = await axios.post(\n        `${API_URL}/withdrawals/${withdrawalId}/cancel`,\n        {},\n        {\n          headers: {\n            Authorization: `Bearer ${localStorage.getItem('token')}`,\n          },\n        }\n      );\n\n      // Update the withdrawal in the list\n      set((state) => ({\n        withdrawals: state.withdrawals.map((w) =>\n          w.id === withdrawalId ? response.data : w\n        ),\n        loading: false,\n      }));\n    } catch (err: any) {\n      const error = err.response?.data?.message || 'Failed to cancel withdrawal';\n      set({ error, loading: false });\n      throw error;\n    }\n  },\n\n  clearError: () => set({ error: null }),\n}));\n"