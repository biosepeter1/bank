import { create } from 'zustand';\nimport axios from 'axios';\n\ninterface Deposit {\n  id: string;\n  userId: string;\n  amount: number;\n  currency: string;\n  depositMethod: string;\n  paymentProvider: string;\n  status: 'PENDING' | 'COMPLETED' | 'FAILED' | 'CANCELLED';\n  providerRef?: string;\n  proofUrl?: string;\n  createdAt: string;\n  completedAt?: string;\n}\n\ninterface DepositStore {\n  deposits: Deposit[];\n  currentDeposit: Deposit | null;\n  loading: boolean;\n  error: string | null;\n\n  // Actions\n  initiateDeposit: (amount: number, method: string) => Promise<any>;\n  confirmDeposit: (reference: string) => Promise<void>;\n  getDepositHistory: () => Promise<void>;\n  getDepositById: (depositId: string) => Promise<void>;\n  uploadDepositProof: (depositId: string, file: File) => Promise<void>;\n  clearError: () => void;\n}\n\nconst API_URL = process.env.REACT_APP_API_URL || 'http://localhost:3000/api';\n\nexport const useDepositStore = create<DepositStore>((set) => ({\n  deposits: [],\n  currentDeposit: null,\n  loading: false,\n  error: null,\n\n  initiateDeposit: async (amount, method) => {\n    set({ loading: true, error: null });\n    try {\n      const response = await axios.post(\n        `${API_URL}/deposits/initiate`,\n        {\n          amount,\n          method,\n          currency: 'NGN',\n        },\n        {\n          headers: {\n            Authorization: `Bearer ${localStorage.getItem('token')}`,\n          },\n        }\n      );\n\n      set({ currentDeposit: response.data.deposit, loading: false });\n      return response.data;\n    } catch (err: any) {\n      const error = err.response?.data?.message || 'Failed to initiate deposit';\n      set({ error, loading: false });\n      throw error;\n    }\n  },\n\n  confirmDeposit: async (reference) => {\n    set({ loading: true, error: null });\n    try {\n      const response = await axios.post(\n        `${API_URL}/deposits/confirm`,\n        { reference },\n        {\n          headers: {\n            Authorization: `Bearer ${localStorage.getItem('token')}`,\n          },\n        }\n      );\n\n      set({ currentDeposit: response.data, loading: false });\n    } catch (err: any) {\n      const error = err.response?.data?.message || 'Failed to confirm deposit';\n      set({ error, loading: false });\n      throw error;\n    }\n  },\n\n  getDepositHistory: async () => {\n    set({ loading: true, error: null });\n    try {\n      const response = await axios.get(`${API_URL}/deposits/history`, {\n        headers: {\n          Authorization: `Bearer ${localStorage.getItem('token')}`,\n        },\n      });\n\n      set({ deposits: response.data, loading: false });\n    } catch (err: any) {\n      const error = err.response?.data?.message || 'Failed to fetch deposit history';\n      set({ error, loading: false });\n      throw error;\n    }\n  },\n\n  getDepositById: async (depositId) => {\n    set({ loading: true, error: null });\n    try {\n      const response = await axios.get(`${API_URL}/deposits/${depositId}`, {\n        headers: {\n          Authorization: `Bearer ${localStorage.getItem('token')}`,\n        },\n      });\n\n      set({ currentDeposit: response.data, loading: false });\n    } catch (err: any) {\n      const error = err.response?.data?.message || 'Failed to fetch deposit details';\n      set({ error, loading: false });\n      throw error;\n    }\n  },\n\n  uploadDepositProof: async (depositId, file) => {\n    set({ loading: true, error: null });\n    try {\n      const formData = new FormData();\n      formData.append('file', file);\n\n      const response = await axios.post(\n        `${API_URL}/deposits/${depositId}/upload-proof`,\n        formData,\n        {\n          headers: {\n            Authorization: `Bearer ${localStorage.getItem('token')}`,\n            'Content-Type': 'multipart/form-data',\n          },\n        }\n      );\n\n      set({ currentDeposit: response.data, loading: false });\n    } catch (err: any) {\n      const error = err.response?.data?.message || 'Failed to upload proof';\n      set({ error, loading: false });\n      throw error;\n    }\n  },\n\n  clearError: () => set({ error: null }),\n}));\n"