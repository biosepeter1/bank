import { create } from 'zustand';\nimport axios from 'axios';\n\ninterface CurrencyStore {\n  exchangeRates: Record<string, number>;\n  supportedCurrencies: string[];\n  loading: boolean;\n  error: string | null;\n\n  // Actions\n  getExchangeRate: (from: string, to: string) => Promise<number>;\n  convertCurrency: (amount: number, from: string, to: string) => Promise<any>;\n  getSupportedCurrencies: () => Promise<void>;\n  getExchangeRateHistory: (from: string, to: string, days?: number) => Promise<any>;\n  clearError: () => void;\n}\n\nconst API_URL = process.env.REACT_APP_API_URL || 'http://localhost:3000/api';\n\nexport const useCurrencyStore = create<CurrencyStore>((set, get) => ({\n  exchangeRates: {},\n  supportedCurrencies: [],\n  loading: false,\n  error: null,\n\n  getExchangeRate: async (from, to) => {\n    set({ loading: true, error: null });\n    try {\n      const response = await axios.get(`${API_URL}/currency/exchange-rate/${from}/${to}`);\n      const rate = response.data.rate;\n      \n      set((state) => ({\n        exchangeRates: {\n          ...state.exchangeRates,\n          [`${from}_${to}`]: rate,\n        },\n        loading: false,\n      }));\n      \n      return rate;\n    } catch (err: any) {\n      const error = err.response?.data?.message || 'Failed to fetch exchange rate';\n      set({ error, loading: false });\n      throw error;\n    }\n  },\n\n  convertCurrency: async (amount, from, to) => {\n    set({ loading: true, error: null });\n    try {\n      const response = await axios.post(`${API_URL}/currency/convert`, {\n        amount,\n        fromCurrency: from,\n        toCurrency: to,\n      });\n\n      set({ loading: false });\n      return response.data;\n    } catch (err: any) {\n      const error = err.response?.data?.message || 'Failed to convert currency';\n      set({ error, loading: false });\n      throw error;\n    }\n  },\n\n  getSupportedCurrencies: async () => {\n    set({ loading: true, error: null });\n    try {\n      const response = await axios.get(`${API_URL}/currency/supported`);\n      set({ supportedCurrencies: response.data.currencies, loading: false });\n    } catch (err: any) {\n      const error = err.response?.data?.message || 'Failed to fetch supported currencies';\n      set({ error, loading: false });\n      throw error;\n    }\n  },\n\n  getExchangeRateHistory: async (from, to, days = 30) => {\n    set({ loading: true, error: null });\n    try {\n      const response = await axios.get(`${API_URL}/currency/history/${from}/${to}`, {\n        params: { days },\n      });\n\n      set({ loading: false });\n      return response.data;\n    } catch (err: any) {\n      const error = err.response?.data?.message || 'Failed to fetch exchange rate history';\n      set({ error, loading: false });\n      throw error;\n    }\n  },\n\n  clearError: () => set({ error: null }),\n}));\n"