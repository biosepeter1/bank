import React, { useEffect, useState } from 'react';\nimport { Card, Button } from '@/components/ui';\nimport { useWithdrawalStore } from '@/stores/withdrawalStore';\nimport WithdrawalForm from '../withdrawals/WithdrawalForm';\nimport WithdrawalHistory from '../withdrawals/WithdrawalHistory';\n\nconst WithdrawalsTab: React.FC = () => {\n  const [showWithdrawalForm, setShowWithdrawalForm] = useState(false);\n  const { withdrawals, loading, error, getWithdrawalHistory, clearError } = useWithdrawalStore();\n\n  useEffect(() => {\n    getWithdrawalHistory();\n  }, []);\n\n  const pendingAmount = withdrawals\n    .filter((w) => w.status === 'PENDING')\n    .reduce((sum, w) => sum + w.amount, 0);\n\n  const completedAmount = withdrawals\n    .filter((w) => w.status === 'COMPLETED')\n    .reduce((sum, w) => sum + w.amount, 0);\n\n  return (\n    <div className=\"space-y-6\">\n      {/* Header */}\n      <div className=\"flex items-center justify-between\">\n        <div>\n          <h2 className=\"text-2xl font-bold text-gray-900 dark:text-white\">Withdrawals</h2>\n          <p className=\"text-sm text-gray-500 dark:text-gray-400 mt-1\">Withdraw funds from your wallet</p>\n        </div>\n        <Button\n          onClick={() => setShowWithdrawalForm(true)}\n          className=\"bg-red-600 hover:bg-red-700 text-white\"\n        >\n          New Withdrawal\n        </Button>\n      </div>\n\n      {/* Stats Cards */}\n      <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4\">\n        <Card className=\"p-6\">\n          <p className=\"text-sm text-gray-500 dark:text-gray-400 mb-1\">Total Withdrawn</p>\n          <p className=\"text-3xl font-bold text-gray-900 dark:text-white\">\n            ₦{completedAmount.toLocaleString('en-NG')}\n          </p>\n        </Card>\n        <Card className=\"p-6\">\n          <p className=\"text-sm text-gray-500 dark:text-gray-400 mb-1\">Pending Amount</p>\n          <p className=\"text-3xl font-bold text-yellow-600\">\n            ₦{pendingAmount.toLocaleString('en-NG')}\n          </p>\n        </Card>\n        <Card className=\"p-6\">\n          <p className=\"text-sm text-gray-500 dark:text-gray-400 mb-1\">Total Requests</p>\n          <p className=\"text-3xl font-bold text-gray-900 dark:text-white\">{withdrawals.length}</p>\n        </Card>\n      </div>\n\n      {/* Error Alert */}\n      {error && (\n        <div className=\"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg p-4\">\n          <p className=\"text-sm text-red-700 dark:text-red-400\">{error}</p>\n          <Button size=\"sm\" variant=\"ghost\" onClick={clearError} className=\"mt-2\">\n            Dismiss\n          </Button>\n        </div>\n      )}\n\n      {/* Withdrawal History */}\n      <div>\n        <h3 className=\"text-lg font-semibold text-gray-900 dark:text-white mb-4\">Recent Withdrawals</h3>\n        <WithdrawalHistory\n          withdrawals={withdrawals}\n          loading={loading}\n          onNewWithdrawal={() => setShowWithdrawalForm(true)}\n        />\n      </div>\n\n      {/* Withdrawal Form Modal */}\n      {showWithdrawalForm && (\n        <div className=\"fixed inset-0 bg-black/50 flex items-center justify-center z-50 overflow-y-auto\">\n          <Card className=\"w-full max-w-md my-8\">\n            <div className=\"p-6\">\n              <div className=\"flex items-center justify-between mb-4\">\n                <h3 className=\"text-lg font-semibold text-gray-900 dark:text-white\">New Withdrawal</h3>\n                <button\n                  onClick={() => setShowWithdrawalForm(false)}\n                  className=\"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300\"\n                >\n                  ✕\n                </button>\n              </div>\n              <WithdrawalForm onSuccess={() => setShowWithdrawalForm(false)} />\n            </div>\n          </Card>\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default WithdrawalsTab;\n"