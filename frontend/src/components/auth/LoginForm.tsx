import React, { useState } from 'react';\nimport { Mail, Lock, Loader2 } from 'lucide-react';\nimport { useForm, PATTERNS } from '@/utils';\nimport { FormInput } from '@/components/common';\nimport { useToast } from '@/components/common';\nimport { authService } from '@/services';\nimport { useUserStore } from '@/stores';\n\nexport interface LoginFormProps {\n  onSuccess?: () => void;\n}\n\nexport const LoginForm: React.FC<LoginFormProps> = ({ onSuccess }) => {\n  const { setUser } = useUserStore();\n  const { success, error } = useToast();\n  const [isLoading, setIsLoading] = useState(false);\n\n  const form = useForm({\n    initialValues: {\n      email: '',\n      password: '',\n      rememberMe: false,\n    },\n    rules: {\n      email: {\n        required: 'Email is required',\n        pattern: [PATTERNS.EMAIL, 'Invalid email format'],\n      },\n      password: {\n        required: 'Password is required',\n        minLength: [6, 'Minimum 6 characters'],\n      },\n    },\n    onSubmit: async (values) => {\n      setIsLoading(true);\n      try {\n        const response = await authService.login(values.email, values.password);\n        if (response.data?.user) {\n          setUser(response.data.user);\n          localStorage.setItem('authToken', response.data.token);\n          if (values.rememberMe) {\n            localStorage.setItem('rememberEmail', values.email);\n          }\n          success('Login successful!');\n          onSuccess?.();\n        }\n      } catch (err: any) {\n        error(err.message || 'Login failed');\n      } finally {\n        setIsLoading(false);\n      }\n    },\n  });\n\n  return (\n    <form onSubmit={form.handleSubmit} className=\"space-y-4\">\n      <FormInput\n        label=\"Email Address\"\n        type=\"email\"\n        name=\"email\"\n        placeholder=\"you@example.com\"\n        value={form.values.email}\n        onChange={form.handleChange}\n        onBlur={form.handleBlur}\n        error={form.touched.email ? form.errors.email : undefined}\n        icon={<Mail size={18} />}\n      />\n\n      <FormInput\n        label=\"Password\"\n        type=\"password\"\n        name=\"password\"\n        placeholder=\"••••••••\"\n        value={form.values.password}\n        onChange={form.handleChange}\n        onBlur={form.handleBlur}\n        error={form.touched.password ? form.errors.password : undefined}\n        icon={<Lock size={18} />}\n      />\n\n      <div className=\"flex items-center\">\n        <label className=\"flex items-center gap-2 cursor-pointer\">\n          <input\n            type=\"checkbox\"\n            name=\"rememberMe\"\n            checked={form.values.rememberMe}\n            onChange={form.handleChange}\n            className=\"w-4 h-4 rounded border-gray-300 text-blue-600 focus:ring-2 focus:ring-blue-500\"\n          />\n          <span className=\"text-sm text-gray-600 dark:text-gray-400\">\n            Remember me\n          </span>\n        </label>\n      </div>\n\n      <button\n        type=\"submit\"\n        disabled={isLoading || form.isSubmitting}\n        className=\"w-full px-4 py-2 bg-blue-600 hover:bg-blue-700 disabled:bg-blue-400 text-white font-medium rounded-lg transition-colors flex items-center justify-center gap-2\"\n      >\n        {isLoading || form.isSubmitting ? (\n          <>\n            <Loader2 size={18} className=\"animate-spin\" />\n            Logging in...\n          </>\n        ) : (\n          'Login'\n        )}\n      </button>\n\n      <div className=\"text-center text-sm text-gray-600 dark:text-gray-400\">\n        Don't have an account?{' '}\n        <a href=\"/signup\" className=\"text-blue-600 hover:text-blue-700 font-medium\">\n          Sign up\n        </a>\n      </div>\n    </form>\n  );\n};\n"