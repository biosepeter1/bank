(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[72],{8127:(e,t,s)=>{Promise.resolve().then(s.bind(s,25780))},14324:(e,t,s)=>{"use strict";s.d(t,{BrandingProvider:()=>o,Z:()=>c});var a=s(95155),r=s(12115),l=s(39747),n=s(38918);let i=(0,r.createContext)(void 0);function o(e){let{children:t}=e,[s,o]=(0,r.useState)(n.z7),[c,d]=(0,r.useState)(!0),u=async()=>{try{let e=await l.a.getSettings(),t=e.general.bankCode,s=e.general.bankName||"United Bank of Africa",a=e.general.logo,r=(0,n.MH)(t,s);r.logo=a,o(r);{let e=document.documentElement;e.style.setProperty("--brand-primary",r.colors.primary),e.style.setProperty("--brand-secondary",r.colors.secondary);let t=e=>{let t=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return t?"".concat(parseInt(t[1],16)," ").concat(parseInt(t[2],16)," ").concat(parseInt(t[3],16)):"0 65 106"};e.style.setProperty("--brand-primary-rgb",t(r.colors.primary)),e.style.setProperty("--brand-secondary-rgb",t(r.colors.secondary)),localStorage.setItem("bankBranding",JSON.stringify(r))}}catch(e){console.error("Failed to load branding:",e),o(n.z7)}finally{d(!1)}};(0,r.useEffect)(()=>{{let e=localStorage.getItem("bankBranding");if(e)try{let t=JSON.parse(e);o(t);let s=document.documentElement;s.style.setProperty("--brand-primary",t.colors.primary),s.style.setProperty("--brand-secondary",t.colors.secondary)}catch(e){}}u()},[]);let m=async()=>{await u()};return(0,a.jsx)(i.Provider,{value:{branding:s,loading:c,refreshBranding:m},children:t})}function c(){let e=(0,r.useContext)(i);if(void 0===e)throw Error("useBranding must be used within a BrandingProvider");return e}},19408:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(71847).A)("building-2",[["path",{d:"M10 12h4",key:"a56b0p"}],["path",{d:"M10 8h4",key:"1sr2af"}],["path",{d:"M14 21v-3a2 2 0 0 0-4 0v3",key:"1rgiei"}],["path",{d:"M6 10H4a2 2 0 0 0-2 2v7a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-2",key:"secmi2"}],["path",{d:"M6 21V5a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v16",key:"16ra0t"}]])},20063:(e,t,s)=>{"use strict";var a=s(47260);s.o(a,"usePathname")&&s.d(t,{usePathname:function(){return a.usePathname}}),s.o(a,"useRouter")&&s.d(t,{useRouter:function(){return a.useRouter}}),s.o(a,"useSearchParams")&&s.d(t,{useSearchParams:function(){return a.useSearchParams}})},23664:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(71847).A)("mail",[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]])},25780:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>N});var a=s(95155),r=s(12115),l=s(20063),n=s(52619),i=s.n(n),o=s(15239),c=s(19408),d=s(23664),u=s(99708),m=s(70532),h=s(57828),p=s(35299),f=s(52987),x=s(26497),g=s(8751),y=s(22663),b=s(89436),w=s(14324),j=s(81738);let v=["/images/auth-slide-1.png","/images/auth-slide-2.png","/images/auth-slide-3.png"];function N(){var e,t;let s=(0,l.useRouter)(),{branding:n}=(0,w.Z)(),{settings:N}=(0,j.t)(),[k,A]=(0,r.useState)(!1),[P,S]=(0,r.useState)(!1),[E,I]=(0,r.useState)(!1),[M,C]=(0,r.useState)({}),[R,z]=(0,r.useState)({email:"",password:""}),[B,T]=(0,r.useState)(0),_=(null==N||null==(e=N.general)?void 0:e.siteName)||(null==n?void 0:n.name)||"Banking Platform",L=(null==N||null==(t=N.general)?void 0:t.logo)||(null==n?void 0:n.logo);(0,r.useEffect)(()=>{let e=localStorage.getItem("rememberedEmail");e&&(z(t=>({...t,email:e})),I(!0))},[]),(0,r.useEffect)(()=>{let e=setInterval(()=>{T(e=>(e+1)%v.length)},5e3);return()=>clearInterval(e)},[]);let U=async e=>{var t,a,r;if(e.preventDefault(),!(()=>{let e={};return R.email?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(R.email)||(e.email="Invalid email format"):e.email="Email is required",R.password?R.password.length<6&&(e.password="Password must be at least 6 characters"):e.password="Password is required",C(e),0===Object.keys(e).length})())return void y.Ay.error("Please fix the errors below");A(!0);try{let e=await b.Z.login({email:R.email,password:R.password});e.accessToken&&localStorage.setItem("accessToken",e.accessToken),e.refreshToken&&localStorage.setItem("refreshToken",e.refreshToken),E?localStorage.setItem("rememberedEmail",R.email):localStorage.removeItem("rememberedEmail"),y.Ay.success("Login successful! Redirecting...");let a=(null==(t=e.user)?void 0:t.role)||"USER";setTimeout(()=>{"SUPER_ADMIN"===a||"BANK_ADMIN"===a?s.push("/admin/dashboard"):s.push("/user/dashboard")},1e3)}catch(e){y.Ay.error((null==e||null==(r=e.response)||null==(a=r.data)?void 0:a.message)||(null==e?void 0:e.message)||"Login failed")}finally{A(!1)}},O=e=>{let{name:t,value:s}=e.target;z(e=>({...e,[t]:s})),M[t]&&C(e=>({...e,[t]:void 0}))};return(0,a.jsxs)("div",{className:"h-screen flex overflow-hidden",children:[(0,a.jsx)(y.Toaster,{position:"top-right"}),(0,a.jsxs)("div",{className:"hidden lg:block lg:w-[50%] relative overflow-hidden",children:[(0,a.jsx)(x.N,{mode:"wait",children:(0,a.jsx)(g.P.div,{initial:{opacity:0,scale:1.1},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},transition:{duration:.7},className:"absolute inset-0",children:(0,a.jsx)(o.default,{src:v[B],alt:"Banking",fill:!0,priority:0===B,className:"object-cover"})},B)}),(0,a.jsx)("div",{className:"absolute inset-0",style:{background:"linear-gradient(135deg, ".concat(n.colors.primary,"dd 0%, ").concat(n.colors.secondary,"aa 100%)")}}),(0,a.jsxs)("div",{className:"absolute inset-0 flex flex-col justify-between p-8 text-white z-10",children:[(0,a.jsxs)(i(),{href:"/",className:"flex items-center gap-3",children:[L?(0,a.jsx)("img",{src:L,alt:_,className:"h-10 w-auto object-contain"}):(0,a.jsx)("div",{className:"w-10 h-10 rounded-xl bg-white/20 backdrop-blur-sm flex items-center justify-center",children:(0,a.jsx)(c.A,{className:"w-5 h-5"})}),(0,a.jsx)("span",{className:"text-xl font-bold",children:_})]}),(0,a.jsx)("div",{className:"text-center",children:(0,a.jsxs)(g.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},children:[(0,a.jsx)("h2",{className:"text-4xl font-bold mb-4",children:"Welcome Back"}),(0,a.jsx)("p",{className:"text-lg text-white/90 max-w-md mx-auto",children:"Sign in to access your account and manage your finances securely."})]})}),(0,a.jsx)("div",{className:"flex items-center justify-center gap-2",children:v.map((e,t)=>(0,a.jsx)("button",{onClick:()=>T(t),className:"h-2 rounded-full transition-all duration-300 ".concat(t===B?"w-8 bg-white":"w-2 bg-white/40 hover:bg-white/60")},t))})]})]}),(0,a.jsx)("div",{className:"flex-1 overflow-y-auto bg-gradient-to-br from-slate-50 via-white to-slate-100",children:(0,a.jsx)("div",{className:"min-h-full flex items-center justify-center p-4 md:p-6",children:(0,a.jsxs)("div",{className:"w-full max-w-sm",children:[(0,a.jsxs)("div",{className:"lg:hidden flex items-center justify-center gap-2 mb-6",children:[L?(0,a.jsx)("img",{src:L,alt:_,className:"h-8 object-contain"}):(0,a.jsx)("div",{className:"w-8 h-8 rounded-lg flex items-center justify-center text-white",style:{background:n.colors.primary},children:(0,a.jsx)(c.A,{className:"w-4 h-4"})}),(0,a.jsx)("span",{className:"text-lg font-bold text-slate-900",children:_})]}),(0,a.jsxs)(g.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},children:[(0,a.jsxs)("div",{className:"text-center mb-6",children:[(0,a.jsx)("h1",{className:"text-2xl font-bold text-slate-900 mb-1",children:"Sign In"}),(0,a.jsx)("p",{className:"text-slate-500 text-sm",children:"Access your account"})]}),(0,a.jsxs)("div",{className:"bg-white rounded-xl shadow-lg border border-slate-100 p-5",children:[(0,a.jsxs)("form",{onSubmit:U,className:"space-y-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Email"}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(d.A,{className:"absolute left-3 top-2.5 text-slate-400",size:18}),(0,a.jsx)("input",{type:"email",name:"email",value:R.email,onChange:O,placeholder:"you@example.com",className:"w-full pl-9 pr-3 py-2.5 rounded-lg border text-sm bg-slate-50 text-slate-900 outline-none ".concat(M.email?"border-red-500":"border-slate-200 focus:border-brand-primary")})]}),M.email&&(0,a.jsx)("p",{className:"text-red-500 text-xs mt-1",children:M.email})]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-1",children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-slate-700",children:"Password"}),(0,a.jsx)(i(),{href:"/forgot-password",className:"text-xs font-medium hover:underline",style:{color:n.colors.primary},children:"Forgot?"})]}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(u.A,{className:"absolute left-3 top-2.5 text-slate-400",size:18}),(0,a.jsx)("input",{type:P?"text":"password",name:"password",value:R.password,onChange:O,placeholder:"••••••••",className:"w-full pl-9 pr-10 py-2.5 rounded-lg border text-sm bg-slate-50 text-slate-900 outline-none ".concat(M.password?"border-red-500":"border-slate-200 focus:border-brand-primary")}),(0,a.jsx)("button",{type:"button",onClick:()=>S(!P),className:"absolute right-3 top-2.5 text-slate-400",children:P?(0,a.jsx)(m.A,{size:18}):(0,a.jsx)(h.A,{size:18})})]}),M.password&&(0,a.jsx)("p",{className:"text-red-500 text-xs mt-1",children:M.password})]}),(0,a.jsxs)("label",{className:"flex items-center gap-2 cursor-pointer",children:[(0,a.jsx)("input",{type:"checkbox",checked:E,onChange:e=>I(e.target.checked),className:"w-4 h-4 rounded border-slate-300"}),(0,a.jsx)("span",{className:"text-xs text-slate-600",children:"Remember me"})]}),(0,a.jsx)("button",{type:"submit",disabled:k,className:"w-full px-4 py-2.5 text-white font-medium rounded-xl hover:opacity-90 shadow-md disabled:opacity-50 transition-all flex items-center justify-center gap-2 text-sm",style:{background:n.colors.primary},children:k?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(p.A,{size:16,className:"animate-spin"})," Signing in..."]}):(0,a.jsxs)(a.Fragment,{children:["Sign In ",(0,a.jsx)(f.A,{size:16})]})})]}),(0,a.jsx)("div",{className:"mt-4 pt-4 border-t border-slate-100 text-center",children:(0,a.jsxs)("p",{className:"text-slate-500 text-sm",children:["Don't have an account? ",(0,a.jsx)(i(),{href:"/register",className:"font-semibold hover:underline",style:{color:n.colors.primary},children:"Open Account"})]})})]}),(0,a.jsx)("div",{className:"mt-4 text-center",children:(0,a.jsxs)("p",{className:"text-slate-400 text-xs flex items-center justify-center gap-1",children:[(0,a.jsx)(u.A,{size:10})," Protected by Bank-Grade Security"]})})]})]})})})]})}},26497:(e,t,s)=>{"use strict";s.d(t,{N:()=>b});var a=s(95155),r=s(12115),l=s(60296),n=s(94416),i=s(86553),o=s(59686),c=s(81402),d=s(53127);function u(e,t){if("function"==typeof e)return e(t);null!=e&&(e.current=t)}class m extends r.Component{getSnapshotBeforeUpdate(e){let t=this.props.childRef.current;if(t&&e.isPresent&&!this.props.isPresent){let e=t.offsetParent,s=(0,c.s)(e)&&e.offsetWidth||0,a=this.props.sizeRef.current;a.height=t.offsetHeight||0,a.width=t.offsetWidth||0,a.top=t.offsetTop,a.left=t.offsetLeft,a.right=s-a.width-a.left}return null}componentDidUpdate(){}render(){return this.props.children}}function h(e){let{children:t,isPresent:s,anchorX:l,root:n}=e,i=(0,r.useId)(),o=(0,r.useRef)(null),c=(0,r.useRef)({width:0,height:0,top:0,left:0,right:0}),{nonce:h}=(0,r.useContext)(d.Q),p=function(...e){return r.useCallback(function(...e){return t=>{let s=!1,a=e.map(e=>{let a=u(e,t);return s||"function"!=typeof a||(s=!0),a});if(s)return()=>{for(let t=0;t<a.length;t++){let s=a[t];"function"==typeof s?s():u(e[t],null)}}}}(...e),e)}(o,null==t?void 0:t.ref);return(0,r.useInsertionEffect)(()=>{let{width:e,height:t,top:a,left:r,right:d}=c.current;if(s||!o.current||!e||!t)return;o.current.dataset.motionPopId=i;let u=document.createElement("style");h&&(u.nonce=h);let m=null!=n?n:document.head;return m.appendChild(u),u.sheet&&u.sheet.insertRule('\n          [data-motion-pop-id="'.concat(i,'"] {\n            position: absolute !important;\n            width: ').concat(e,"px !important;\n            height: ").concat(t,"px !important;\n            ").concat("left"===l?"left: ".concat(r):"right: ".concat(d),"px !important;\n            top: ").concat(a,"px !important;\n          }\n        ")),()=>{m.contains(u)&&m.removeChild(u)}},[s]),(0,a.jsx)(m,{isPresent:s,childRef:o,sizeRef:c,children:r.cloneElement(t,{ref:p})})}let p=e=>{let{children:t,initial:s,isPresent:l,onExitComplete:i,custom:c,presenceAffectsLayout:d,mode:u,anchorX:m,root:p}=e,x=(0,n.M)(f),g=(0,r.useId)(),y=!0,b=(0,r.useMemo)(()=>(y=!1,{id:g,initial:s,isPresent:l,custom:c,onExitComplete:e=>{for(let t of(x.set(e,!0),x.values()))if(!t)return;i&&i()},register:e=>(x.set(e,!1),()=>x.delete(e))}),[l,x,i]);return d&&y&&(b={...b}),(0,r.useMemo)(()=>{x.forEach((e,t)=>x.set(t,!1))},[l]),r.useEffect(()=>{l||x.size||!i||i()},[l]),"popLayout"===u&&(t=(0,a.jsx)(h,{isPresent:l,anchorX:m,root:p,children:t})),(0,a.jsx)(o.t.Provider,{value:b,children:t})};function f(){return new Map}var x=s(75601);let g=e=>e.key||"";function y(e){let t=[];return r.Children.forEach(e,e=>{(0,r.isValidElement)(e)&&t.push(e)}),t}let b=e=>{let{children:t,custom:s,initial:o=!0,onExitComplete:c,presenceAffectsLayout:d=!0,mode:u="sync",propagate:m=!1,anchorX:h="left",root:f}=e,[b,w]=(0,x.xQ)(m),j=(0,r.useMemo)(()=>y(t),[t]),v=m&&!b?[]:j.map(g),N=(0,r.useRef)(!0),k=(0,r.useRef)(j),A=(0,n.M)(()=>new Map),[P,S]=(0,r.useState)(j),[E,I]=(0,r.useState)(j);(0,i.E)(()=>{N.current=!1,k.current=j;for(let e=0;e<E.length;e++){let t=g(E[e]);v.includes(t)?A.delete(t):!0!==A.get(t)&&A.set(t,!1)}},[E,v.length,v.join("-")]);let M=[];if(j!==P){let e=[...j];for(let t=0;t<E.length;t++){let s=E[t],a=g(s);v.includes(a)||(e.splice(t,0,s),M.push(s))}return"wait"===u&&M.length&&(e=M),I(y(e)),S(j),null}let{forceRender:C}=(0,r.useContext)(l.L);return(0,a.jsx)(a.Fragment,{children:E.map(e=>{let t=g(e),r=(!m||!!b)&&(j===E||v.includes(t));return(0,a.jsx)(p,{isPresent:r,initial:(!N.current||!!o)&&void 0,custom:s,presenceAffectsLayout:d,mode:u,root:f,onExitComplete:r?void 0:()=>{if(!A.has(t))return;A.set(t,!0);let e=!0;A.forEach(t=>{t||(e=!1)}),e&&(null==C||C(),I(k.current),m&&(null==w||w()),c&&c())},anchorX:h,children:e},t)})})}},35299:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(71847).A)("loader-circle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])},39747:(e,t,s)=>{"use strict";s.d(t,{a:()=>r});var a=s(60125);let r={getSettings:async()=>(await a.A.get("/settings")).data,updateSettings:async e=>(await a.A.put("/settings",e)).data}},70532:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(71847).A)("eye-off",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]])},89436:(e,t,s)=>{"use strict";s.d(t,{Z:()=>r});var a=s(60125);let r={register:async e=>(await a.A.post("/auth/register",e)).data,login:async e=>(await a.A.post("/auth/login",e)).data,getProfile:async()=>(await a.A.get("/auth/me")).data,refreshToken:async e=>(await a.A.post("/auth/refresh",{refreshToken:e})).data,changePassword:async(e,t,s)=>(await a.A.patch("/auth/change-password",{currentPassword:e,newPassword:t,confirmPassword:s})).data,getUserSettings:async()=>(await a.A.get("/auth/settings")).data,updateUserSettings:async e=>(await a.A.patch("/auth/settings",e)).data,forgotPassword:async e=>(await a.A.post("/auth/forgot-password",{email:e})).data,resetPassword:async e=>(await a.A.post("/auth/reset-password",e)).data,sendVerificationEmail:async()=>(await a.A.post("/auth/send-verification-email")).data,verifyEmail:async(e,t)=>(await a.A.post("/auth/verify-email",{otpId:e,code:t})).data}},99708:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(71847).A)("lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]])}},e=>{e.O(0,[5125,2663,3358,2619,7918,5503,8441,1255,7358],()=>e(e.s=8127)),_N_E=e.O()}]);