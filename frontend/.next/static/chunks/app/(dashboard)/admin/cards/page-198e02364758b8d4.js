(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2182],{34262:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>I});var t=a(95155),l=a(12115),r=a(83209),c=a(97003),d=a(33789),n=a(47507),i=a(54679),o=a(20063),x=a(96633),m=a(35299),h=a(78519),u=a(1524),j=a(52056),p=a(50906),N=a(91169),b=a(26983),g=a(42529),v=a(78874),C=a(86651),f=a(57828),y=a(99708),w=a(35795),A=a(71360),E=a(56317),k=a(22663),T=a(81738),R=a(14324);function I(){let{branding:e}=(0,R.Z)(),{settings:s}=(0,T.t)();(0,o.useSearchParams)();let a=(0,o.useRouter)(),[I,L]=(0,l.useState)("cards"),[S,D]=(0,l.useState)([]),[U,P]=(0,l.useState)([]),[V,_]=(0,l.useState)(!0),[q,B]=(0,l.useState)(""),[F,O]=(0,l.useState)("all"),[Z,$]=(0,l.useState)("all"),[z,W]=(0,l.useState)(null),[G,H]=(0,l.useState)(!1),[K,X]=(0,l.useState)({}),[M,Y]=(0,l.useState)({totalCards:0,activeCards:0,blockedCards:0,virtualCards:0,physicalCards:0});(0,l.useEffect)(()=>{J()},[]),(0,l.useEffect)(()=>{"requests"===new URLSearchParams(window.location.search).get("tab")&&L("requests")},[]),(0,l.useEffect)(()=>{let e=new URLSearchParams(window.location.search);I&&(e.set("tab",I),a.replace("/admin/cards?".concat(e.toString())))},[I,a]);let J=async()=>{try{_(!0),console.log("\uD83C\uDFB4 Fetching admin cards...");let e=[];try{let s=localStorage.getItem("accessToken");if(s){let a=await fetch("".concat("http://localhost:3001/api","/cards/admin/all"),{headers:{Authorization:"Bearer ".concat(s),"Content-Type":"application/json"}});a.ok&&(e=await a.json())}}catch(e){}let s=await E.c.getAllCardRequests().catch(()=>[]);P(s),(!Array.isArray(e)||0===e.length)&&Array.isArray(s)&&s.length>0&&(e=s.map(e=>{var s,a,t,l,r;return{id:e.id,userId:e.userId,userName:"".concat((null==(s=e.user)?void 0:s.firstName)||""," ").concat((null==(a=e.user)?void 0:a.lastName)||"").trim(),userEmail:(null==(t=e.user)?void 0:t.email)||"",cardNumber:"—",cardType:e.cardType||"VIRTUAL",cardBrand:"VISA",status:e.status||"PENDING",expiryDate:"—",cardholderName:"".concat((null==(l=e.user)?void 0:l.firstName)||""," ").concat((null==(r=e.user)?void 0:r.lastName)||"").trim(),createdAt:e.createdAt,lastUsed:void 0,isRequest:!0}})),D(e);let a=e.length,t=a>0&&e.every(e=>"—"===e.cardNumber),l=t?e.filter(e=>"APPROVED"===(e.status||"").toUpperCase()).length:e.filter(e=>"ACTIVE"===(e.status||"").toUpperCase()).length,r=t?0:e.filter(e=>"BLOCKED"===(e.status||"").toUpperCase()).length,c=e.filter(e=>"VIRTUAL"===(e.cardType||"").toUpperCase()).length,d=e.filter(e=>"PHYSICAL"===(e.cardType||"").toUpperCase()).length;Y({totalCards:a,activeCards:l,blockedCards:r,virtualCards:c,physicalCards:d})}finally{_(!1)}},Q=async(e,s)=>{if(confirm("Are you sure you want to ".concat(s," this card?")))try{X(s=>({...s,[e]:!0}));let a=localStorage.getItem("accessToken");if(!a)return void k.oR.error("Not authenticated");let t="block"===s?"".concat("http://localhost:3001/api","/cards/admin/").concat(e,"/block"):"".concat("http://localhost:3001/api","/cards/admin/").concat(e,"/unblock"),l=await fetch(t,{method:"POST",headers:{Authorization:"Bearer ".concat(a)}});if(!l.ok){let e=await l.json().catch(()=>({message:"Failed to ".concat(s," card")}));throw Error(e.message)}let r=await l.json();console.log("✅ Card ".concat(s,"ed:"),r);let c="block"===s?"BLOCKED":"ACTIVE";D(s=>s.map(s=>s.id===e?{...s,status:c}:s)),z&&z.id===e&&W(e=>e?{...e,status:c}:null),Y(e=>({...e,activeCards:e.activeCards+("block"===s?-1:1),blockedCards:e.blockedCards+("block"===s?1:-1)})),k.oR.success(r.message||"Card ".concat(s,"ed successfully"))}catch(e){console.error("❌ Failed to ".concat(s," card:"),e),k.oR.error(e.message||"Failed to ".concat(s," card"))}finally{X(s=>({...s,[e]:!1}))}},ee=async e=>{try{X(s=>({...s,["approve_".concat(e)]:!0})),await E.c.approveCardRequest(e),k.oR.success("Card request approved"),J()}catch(e){var s,a;k.oR.error((null==e||null==(a=e.response)||null==(s=a.data)?void 0:s.message)||"Failed to approve request")}finally{X(s=>({...s,["approve_".concat(e)]:!1}))}},es=async e=>{let s=prompt("Enter rejection reason");if(s)try{X(s=>({...s,["reject_".concat(e)]:!0})),await E.c.rejectCardRequest(e,s),k.oR.success("Card request rejected"),J()}catch(e){var a,t;k.oR.error((null==e||null==(t=e.response)||null==(a=t.data)?void 0:a.message)||"Failed to reject request")}finally{X(s=>({...s,["reject_".concat(e)]:!1}))}},ea=async e=>{if(confirm("Are you sure you want to DELETE this card? This action cannot be undone!"))try{X(s=>({...s,["delete_".concat(e)]:!0}));let s=localStorage.getItem("accessToken");if(!s)return void k.oR.error("Not authenticated");let a=await fetch("".concat("http://localhost:3001/api","/cards/admin/").concat(e),{method:"DELETE",headers:{Authorization:"Bearer ".concat(s)}});if(!a.ok){let e=await a.json().catch(()=>({message:"Failed to delete card"}));throw Error(e.message)}let t=await a.json();console.log("✅ Card deleted:",t);let l=S.find(s=>s.id===e);D(s=>s.filter(s=>s.id!==e)),z&&z.id===e&&(W(null),H(!1)),l&&Y(e=>({...e,totalCards:e.totalCards-1,activeCards:"ACTIVE"===l.status?e.activeCards-1:e.activeCards,blockedCards:"BLOCKED"===l.status?e.blockedCards-1:e.blockedCards,virtualCards:"VIRTUAL"===l.cardType?e.virtualCards-1:e.virtualCards,physicalCards:"PHYSICAL"===l.cardType?e.physicalCards-1:e.physicalCards})),k.oR.success(t.message||"Card deleted successfully")}catch(e){console.error("❌ Failed to delete card:",e),k.oR.error(e.message||"Failed to delete card")}finally{X(s=>({...s,["delete_".concat(e)]:!1}))}},et=S.filter(e=>{let s=""===q||e.userName.toLowerCase().includes(q.toLowerCase())||e.userEmail.toLowerCase().includes(q.toLowerCase())||e.cardNumber.toLowerCase().includes(q.toLowerCase())||e.cardholderName.toLowerCase().includes(q.toLowerCase()),a="all"===F||e.status===F,t="all"===Z||e.cardType===Z;return s&&a&&t}),el=e=>{let s={ACTIVE:"bg-green-100 text-green-800",BLOCKED:"bg-red-100 text-red-800",EXPIRED:"bg-gray-100 text-gray-800",PENDING:"bg-yellow-100 text-yellow-800"};return s[e]||s.PENDING},er=e=>({VIRTUAL:"bg-purple-100 text-purple-800",PHYSICAL:"bg-blue-100 text-blue-800"})[e]||"bg-gray-100 text-gray-800";return V?(0,t.jsx)("div",{className:"p-8",children:(0,t.jsx)("div",{className:"flex justify-center py-12",children:(0,t.jsx)(m.A,{className:"h-8 w-8 animate-spin text-blue-600"})})}):(0,t.jsxs)("div",{className:"p-8",children:[(0,t.jsxs)("div",{className:"mb-6 flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"text-3xl font-bold",children:"Card Management"}),(0,t.jsx)("p",{className:"text-gray-600 mt-2",children:"Manage active cards and review requests"})]}),(0,t.jsxs)("div",{className:"inline-flex border rounded-lg overflow-hidden",children:[(0,t.jsx)("button",{className:"px-4 py-2 text-sm ".concat("cards"===I?"bg-blue-600 text-white":"bg-white"),onClick:()=>L("cards"),children:"Active Cards"}),(0,t.jsx)("button",{className:"px-4 py-2 text-sm ".concat("requests"===I?"bg-blue-600 text-white":"bg-white"),onClick:()=>L("requests"),children:"Requests"})]})]}),"cards"===I?(0,t.jsxs)("div",{className:"grid gap-6 md:grid-cols-5 mb-6",children:[(0,t.jsx)(r.Zp,{children:(0,t.jsx)(r.Wu,{className:"pt-6",children:(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)(h.A,{className:"h-8 w-8 mx-auto mb-2 text-blue-600"}),(0,t.jsx)("p",{className:"text-2xl font-bold",children:M.totalCards}),(0,t.jsx)("p",{className:"text-sm text-gray-600",children:"Total Cards"})]})})}),(0,t.jsx)(r.Zp,{children:(0,t.jsx)(r.Wu,{className:"pt-6",children:(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)(u.A,{className:"h-8 w-8 mx-auto mb-2 text-green-600"}),(0,t.jsx)("p",{className:"text-2xl font-bold text-green-600",children:M.activeCards}),(0,t.jsx)("p",{className:"text-sm text-gray-600",children:"Active Cards"})]})})}),(0,t.jsx)(r.Zp,{children:(0,t.jsx)(r.Wu,{className:"pt-6",children:(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)(j.A,{className:"h-8 w-8 mx-auto mb-2 text-red-600"}),(0,t.jsx)("p",{className:"text-2xl font-bold text-red-600",children:M.blockedCards}),(0,t.jsx)("p",{className:"text-sm text-gray-600",children:"Blocked Cards"})]})})}),(0,t.jsx)(r.Zp,{children:(0,t.jsx)(r.Wu,{className:"pt-6",children:(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)(p.A,{className:"h-8 w-8 mx-auto mb-2 text-purple-600"}),(0,t.jsx)("p",{className:"text-2xl font-bold text-purple-600",children:M.virtualCards}),(0,t.jsx)("p",{className:"text-sm text-gray-600",children:"Virtual Cards"})]})})}),(0,t.jsx)(r.Zp,{children:(0,t.jsx)(r.Wu,{className:"pt-6",children:(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)(N.A,{className:"h-8 w-8 mx-auto mb-2 text-blue-600"}),(0,t.jsx)("p",{className:"text-2xl font-bold text-blue-600",children:M.physicalCards}),(0,t.jsx)("p",{className:"text-sm text-gray-600",children:"Physical Cards"})]})})})]}):(()=>{let e={total:U.length,pending:U.filter(e=>"PENDING"===(e.status||"").toUpperCase()).length,approved:U.filter(e=>"APPROVED"===(e.status||"").toUpperCase()).length,rejected:U.filter(e=>"REJECTED"===(e.status||"").toUpperCase()).length};return(0,t.jsxs)("div",{className:"grid gap-6 md:grid-cols-4 mb-6",children:[(0,t.jsx)(r.Zp,{children:(0,t.jsx)(r.Wu,{className:"pt-6",children:(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)(h.A,{className:"h-8 w-8 mx-auto mb-2 text-blue-600"}),(0,t.jsx)("p",{className:"text-2xl font-bold",children:e.total}),(0,t.jsx)("p",{className:"text-sm text-gray-600",children:"Total Requests"})]})})}),(0,t.jsx)(r.Zp,{children:(0,t.jsx)(r.Wu,{className:"pt-6",children:(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)(b.A,{className:"h-8 w-8 mx-auto mb-2 text-yellow-600"}),(0,t.jsx)("p",{className:"text-2xl font-bold text-yellow-600",children:e.pending}),(0,t.jsx)("p",{className:"text-sm text-gray-600",children:"Pending"})]})})}),(0,t.jsx)(r.Zp,{children:(0,t.jsx)(r.Wu,{className:"pt-6",children:(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)(g.A,{className:"h-8 w-8 mx-auto mb-2 text-green-600"}),(0,t.jsx)("p",{className:"text-2xl font-bold text-green-600",children:e.approved}),(0,t.jsx)("p",{className:"text-sm text-gray-600",children:"Approved"})]})})}),(0,t.jsx)(r.Zp,{children:(0,t.jsx)(r.Wu,{className:"pt-6",children:(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)(v.A,{className:"h-8 w-8 mx-auto mb-2 text-red-600"}),(0,t.jsx)("p",{className:"text-2xl font-bold text-red-600",children:e.rejected}),(0,t.jsx)("p",{className:"text-sm text-gray-600",children:"Rejected"})]})})})]})})(),(0,t.jsx)(r.Zp,{className:"mb-6",children:(0,t.jsx)(r.Wu,{className:"pt-6",children:(0,t.jsxs)("div",{className:"flex flex-col md:flex-row gap-4",children:[(0,t.jsxs)("div",{className:"flex-1 relative",children:[(0,t.jsx)(C.A,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),(0,t.jsx)(d.p,{placeholder:"Search by user name, email, or card number...",value:q,onChange:e=>B(e.target.value),className:"pl-10"})]}),(0,t.jsxs)(n.l6,{value:F,onValueChange:O,children:[(0,t.jsx)(n.bq,{className:"w-full md:w-[180px]",children:(0,t.jsx)(n.yv,{placeholder:"Card Status"})}),(0,t.jsxs)(n.gC,{children:[(0,t.jsx)(n.eb,{value:"all",children:"All Status"}),(0,t.jsx)(n.eb,{value:"ACTIVE",children:"Active"}),(0,t.jsx)(n.eb,{value:"BLOCKED",children:"Blocked"}),(0,t.jsx)(n.eb,{value:"EXPIRED",children:"Expired"}),(0,t.jsx)(n.eb,{value:"PENDING",children:"Pending"})]})]}),(0,t.jsxs)(n.l6,{value:Z,onValueChange:$,children:[(0,t.jsx)(n.bq,{className:"w-full md:w-[180px]",children:(0,t.jsx)(n.yv,{placeholder:"Card Type"})}),(0,t.jsxs)(n.gC,{children:[(0,t.jsx)(n.eb,{value:"all",children:"All Types"}),(0,t.jsx)(n.eb,{value:"VIRTUAL",children:"Virtual"}),(0,t.jsx)(n.eb,{value:"PHYSICAL",children:"Physical"})]})]})]})})}),(0,t.jsxs)(r.Zp,{children:[(0,t.jsx)(r.aR,{children:(0,t.jsx)(r.ZB,{children:"cards"===I?"Cards (".concat(et.length,")"):"Requests (".concat(U.filter(e=>{var s,a;return null==(a=e.user)||null==(s=a.email)?void 0:s.toLowerCase().includes(q.toLowerCase())}).length,")")})}),(0,t.jsxs)(r.Wu,{children:["cards"===I&&0===et.length&&(0,t.jsxs)("div",{className:"text-center py-8",children:[(0,t.jsx)(h.A,{className:"h-12 w-12 mx-auto mb-4 text-gray-400"}),(0,t.jsx)("p",{className:"text-gray-600",children:"No cards found"})]}),"cards"===I&&et.length>0&&(0,t.jsx)("div",{className:"overflow-x-auto",children:(0,t.jsxs)(x.XI,{children:[(0,t.jsx)(x.A0,{children:(0,t.jsxs)(x.Hj,{children:[(0,t.jsx)(x.nd,{children:"Cardholder"}),(0,t.jsx)(x.nd,{children:"Card Details"}),(0,t.jsx)(x.nd,{children:"Type"}),(0,t.jsx)(x.nd,{children:"Status"}),(0,t.jsx)(x.nd,{children:"Created"}),(0,t.jsx)(x.nd,{children:"Last Used"}),(0,t.jsx)(x.nd,{children:"Actions"})]})}),(0,t.jsx)(x.BF,{children:et.map(e=>(0,t.jsxs)(x.Hj,{children:[(0,t.jsx)(x.nA,{children:(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"font-medium",children:e.userName}),(0,t.jsx)("p",{className:"text-sm text-gray-500",children:e.userEmail})]})}),(0,t.jsx)(x.nA,{children:(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"font-mono text-sm",children:e.cardNumber}),(0,t.jsxs)("p",{className:"text-xs text-gray-500",children:["Exp: ",e.expiryDate]})]})}),(0,t.jsx)(x.nA,{children:(0,t.jsx)("span",{className:"px-2 py-1 text-xs font-medium rounded-full ".concat(er(e.cardType)),children:e.cardType})}),(0,t.jsx)(x.nA,{children:(0,t.jsx)("span",{className:"px-2 py-1 text-xs font-medium rounded-full ".concat(el(e.status)),children:e.status})}),(0,t.jsx)(x.nA,{children:(0,t.jsx)("p",{className:"text-sm",children:new Date(e.createdAt).toLocaleDateString()})}),(0,t.jsx)(x.nA,{children:(0,t.jsx)("p",{className:"text-sm",children:e.lastUsed?new Date(e.lastUsed).toLocaleDateString():"Never"})}),(0,t.jsx)(x.nA,{children:(0,t.jsx)("div",{className:"flex gap-2",children:"—"===e.cardNumber?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(c.$,{size:"sm",className:"bg-green-600 hover:bg-green-700",disabled:K["approve_".concat(e.id)],onClick:()=>ee(e.id),children:"Approve"}),(0,t.jsx)(c.$,{size:"sm",variant:"outline",className:"border-red-600 text-red-600 hover:bg-red-50",disabled:K["reject_".concat(e.id)],onClick:()=>es(e.id),children:"Reject"})]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(c.$,{size:"sm",variant:"outline",onClick:()=>{W(e),H(!0)},children:(0,t.jsx)(f.A,{className:"h-4 w-4"})}),"ACTIVE"===e.status?(0,t.jsx)(c.$,{size:"sm",variant:"outline",onClick:()=>Q(e.id,"block"),disabled:K[e.id],children:(0,t.jsx)(y.A,{className:"h-4 w-4"})}):(0,t.jsx)(c.$,{size:"sm",variant:"outline",onClick:()=>Q(e.id,"unblock"),disabled:K[e.id],children:(0,t.jsx)(w.A,{className:"h-4 w-4"})}),(0,t.jsx)(c.$,{size:"sm",variant:"outline",onClick:()=>ea(e.id),disabled:K["delete_".concat(e.id)],children:(0,t.jsx)(A.A,{className:"h-4 w-4"})})]})})})]},e.id))})]})}),"requests"===I&&(()=>{let e=U.filter(e=>{var s,a;return(""===q||(null==(a=e.user)||null==(s=a.email)?void 0:s.toLowerCase().includes(q.toLowerCase())))&&"PENDING"===(e.status||"").toUpperCase()});return 0===e.length?(0,t.jsxs)("div",{className:"text-center py-8",children:[(0,t.jsx)(h.A,{className:"h-12 w-12 mx-auto mb-4 text-gray-400"}),(0,t.jsx)("p",{className:"text-gray-600",children:"No pending card requests"})]}):(0,t.jsx)("div",{className:"overflow-x-auto",children:(0,t.jsxs)(x.XI,{children:[(0,t.jsx)(x.A0,{children:(0,t.jsxs)(x.Hj,{children:[(0,t.jsx)(x.nd,{children:"User"}),(0,t.jsx)(x.nd,{children:"Type"}),(0,t.jsx)(x.nd,{children:"Status"}),(0,t.jsx)(x.nd,{children:"Requested"}),(0,t.jsx)(x.nd,{children:"Actions"})]})}),(0,t.jsx)(x.BF,{children:e.map(e=>{var s,a,l;return(0,t.jsxs)(x.Hj,{children:[(0,t.jsx)(x.nA,{children:(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"font-medium",children:"".concat((null==(s=e.user)?void 0:s.firstName)||""," ").concat((null==(a=e.user)?void 0:a.lastName)||"").trim()}),(0,t.jsx)("p",{className:"text-sm text-gray-500",children:null==(l=e.user)?void 0:l.email})]})}),(0,t.jsx)(x.nA,{children:(0,t.jsx)("span",{className:"px-2 py-1 text-xs font-medium rounded-full ".concat(er((e.cardType||"VIRTUAL").toUpperCase())),children:e.cardType||"VIRTUAL"})}),(0,t.jsx)(x.nA,{children:(0,t.jsx)("span",{className:"px-2 py-1 text-xs font-medium rounded-full ".concat(el((e.status||"PENDING").toUpperCase())),children:e.status})}),(0,t.jsx)(x.nA,{children:new Date(e.createdAt).toLocaleDateString()}),(0,t.jsx)(x.nA,{children:(0,t.jsx)("div",{className:"flex gap-2",children:"PENDING"===(e.status||"").toUpperCase()&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(c.$,{size:"sm",className:"bg-green-600 hover:bg-green-700",disabled:K["approve_".concat(e.id)],onClick:()=>ee(e.id),children:"Approve"}),(0,t.jsx)(c.$,{size:"sm",variant:"outline",className:"border-red-600 text-red-600 hover:bg-red-50",disabled:K["reject_".concat(e.id)],onClick:()=>es(e.id),children:"Reject"})]})})})]},e.id)})})]})})})()]})]}),(0,t.jsx)(i.lG,{open:G,onOpenChange:H,children:(0,t.jsxs)(i.Cf,{className:"max-w-2xl",children:[(0,t.jsxs)(i.c7,{children:[(0,t.jsx)(i.L3,{children:"Card Details"}),(0,t.jsx)(i.rr,{children:"Complete information about this card"})]}),z&&(0,t.jsxs)("div",{className:"space-y-6 py-4",children:[(0,t.jsxs)("div",{className:"relative h-52 rounded-xl bg-gradient-to-br ".concat("VISA"===z.cardBrand?"from-blue-600 via-blue-700 to-indigo-800":"MASTERCARD"===z.cardBrand?"from-red-500 via-orange-600 to-amber-700":"AMERICAN_EXPRESS"===z.cardBrand?"from-cyan-600 via-teal-700 to-emerald-800":"DISCOVER"===z.cardBrand?"from-orange-500 via-orange-600 to-orange-700":"from-gray-600 via-gray-700 to-gray-800"," p-6 text-white shadow-lg"),children:[(0,t.jsxs)("div",{className:"flex justify-between items-start mb-8",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-xs opacity-80",children:"Card Type"}),(0,t.jsx)("p",{className:"font-semibold",children:z.cardType})]}),(0,t.jsx)(h.A,{className:"h-8 w-8 opacity-80"})]}),(0,t.jsxs)("div",{className:"mb-4",children:[(0,t.jsx)("p",{className:"text-xs opacity-80 mb-1",children:"Card Number"}),(0,t.jsx)("p",{className:"text-lg font-mono tracking-wider",children:z.cardNumber})]}),(0,t.jsxs)("div",{className:"flex justify-between items-end",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-xs opacity-80",children:"Cardholder"}),(0,t.jsx)("p",{className:"text-sm font-semibold uppercase",children:z.cardholderName})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-xs opacity-80",children:"Expires"}),(0,t.jsx)("p",{className:"text-sm font-semibold",children:z.expiryDate})]})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-gray-500",children:"Status"}),(0,t.jsx)("span",{className:"inline-block px-2 py-1 text-xs font-medium rounded-full ".concat(el(z.status)),children:z.status})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-gray-500",children:"Type"}),(0,t.jsx)("span",{className:"inline-block px-2 py-1 text-xs font-medium rounded-full ".concat(er(z.cardType)),children:z.cardType})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-gray-500",children:"Created"}),(0,t.jsx)("p",{className:"font-medium",children:new Date(z.createdAt).toLocaleDateString()})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-gray-500",children:"Last Used"}),(0,t.jsx)("p",{className:"font-medium",children:z.lastUsed?new Date(z.lastUsed).toLocaleDateString():"Never"})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"font-semibold mb-3",children:"Cardholder Information"}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-gray-500",children:"Name"}),(0,t.jsx)("p",{className:"font-medium",children:z.userName})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-gray-500",children:"Email"}),(0,t.jsx)("p",{className:"font-medium",children:z.userEmail})]})]})]}),(0,t.jsxs)("div",{className:"flex gap-3 pt-4",children:["ACTIVE"===z.status?(0,t.jsxs)(c.$,{variant:"outline",onClick:()=>Q(z.id,"block"),disabled:K[z.id],className:"flex-1 text-red-600 border-red-600 hover:bg-red-50",children:[K[z.id]?(0,t.jsx)(m.A,{className:"mr-2 h-4 w-4 animate-spin"}):(0,t.jsx)(y.A,{className:"mr-2 h-4 w-4"}),"Block Card"]}):"BLOCKED"===z.status?(0,t.jsxs)(c.$,{variant:"outline",onClick:()=>Q(z.id,"unblock"),disabled:K[z.id],className:"flex-1 text-green-600 border-green-600 hover:bg-green-50",children:[K[z.id]?(0,t.jsx)(m.A,{className:"mr-2 h-4 w-4 animate-spin"}):(0,t.jsx)(w.A,{className:"mr-2 h-4 w-4"}),"Unblock Card"]}):null,(0,t.jsxs)(c.$,{variant:"outline",onClick:()=>ea(z.id),disabled:K["delete_".concat(z.id)],className:"flex-1 text-red-600 border-red-300 hover:bg-red-50 hover:border-red-600",children:[K["delete_".concat(z.id)]?(0,t.jsx)(m.A,{className:"mr-2 h-4 w-4 animate-spin"}):(0,t.jsx)(A.A,{className:"mr-2 h-4 w-4"}),"Delete Card"]}),(0,t.jsx)(c.$,{variant:"outline",onClick:()=>H(!1),className:"flex-1",children:"Close"})]})]})]})})]})}},60374:(e,s,a)=>{Promise.resolve().then(a.bind(a,34262))},96633:(e,s,a)=>{"use strict";a.d(s,{A0:()=>c,BF:()=>d,Hj:()=>n,XI:()=>r,nA:()=>o,nd:()=>i,r6:()=>x});var t=a(95155);a(12115);var l=a(25016);function r(e){let{className:s,...a}=e;return(0,t.jsx)("div",{"data-slot":"table-container",className:"relative w-full overflow-x-auto",children:(0,t.jsx)("table",{"data-slot":"table",className:(0,l.cn)("w-full caption-bottom text-sm",s),...a})})}function c(e){let{className:s,...a}=e;return(0,t.jsx)("thead",{"data-slot":"table-header",className:(0,l.cn)("[&_tr]:border-b",s),...a})}function d(e){let{className:s,...a}=e;return(0,t.jsx)("tbody",{"data-slot":"table-body",className:(0,l.cn)("[&_tr:last-child]:border-0",s),...a})}function n(e){let{className:s,...a}=e;return(0,t.jsx)("tr",{"data-slot":"table-row",className:(0,l.cn)("hover:bg-muted/50 data-[state=selected]:bg-muted border-b transition-colors",s),...a})}function i(e){let{className:s,...a}=e;return(0,t.jsx)("th",{"data-slot":"table-head",className:(0,l.cn)("text-foreground h-10 px-2 text-left align-middle font-medium whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",s),...a})}function o(e){let{className:s,...a}=e;return(0,t.jsx)("td",{"data-slot":"table-cell",className:(0,l.cn)("p-2 align-middle whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",s),...a})}function x(e){let{className:s,...a}=e;return(0,t.jsx)("caption",{"data-slot":"table-caption",className:(0,l.cn)("text-muted-foreground mt-4 text-sm",s),...a})}}},e=>{e.O(0,[5125,2663,4909,3148,1691,2518,4657,8687,7909,5503,1014,8441,1255,7358],()=>e(e.s=60374)),_N_E=e.O()}]);