(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9305],{7220:(e,t,r)=>{"use strict";r.d(t,{SQ:()=>l,_2:()=>d,mB:()=>c,rI:()=>o,ty:()=>i});var a=r(95155);r(12115);var s=r(47971),n=r(25016);function o(e){let{...t}=e;return(0,a.jsx)(s.bL,{"data-slot":"dropdown-menu",...t})}function i(e){let{...t}=e;return(0,a.jsx)(s.l9,{"data-slot":"dropdown-menu-trigger",...t})}function l(e){let{className:t,sideOffset:r=4,...o}=e;return(0,a.jsx)(s.ZL,{children:(0,a.jsx)(s.UC,{"data-slot":"dropdown-menu-content",sideOffset:r,className:(0,n.cn)("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 max-h-(--radix-dropdown-menu-content-available-height) min-w-[8rem] origin-(--radix-dropdown-menu-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border p-1 shadow-md",t),...o})})}function d(e){let{className:t,inset:r,variant:o="default",...i}=e;return(0,a.jsx)(s.q7,{"data-slot":"dropdown-menu-item","data-inset":r,"data-variant":o,className:(0,n.cn)("focus:bg-accent focus:text-accent-foreground data-[variant=destructive]:text-destructive data-[variant=destructive]:focus:bg-destructive/10 dark:data-[variant=destructive]:focus:bg-destructive/20 data-[variant=destructive]:focus:text-destructive data-[variant=destructive]:*:[svg]:!text-destructive [&_svg:not([class*='text-'])]:text-muted-foreground relative flex cursor-default items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 data-[inset]:pl-8 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",t),...i})}function c(e){let{className:t,...r}=e;return(0,a.jsx)(s.wv,{"data-slot":"dropdown-menu-separator",className:(0,n.cn)("bg-border -mx-1 my-1 h-px",t),...r})}},9569:(e,t,r)=>{Promise.resolve().then(r.bind(r,86001))},14324:(e,t,r)=>{"use strict";r.d(t,{BrandingProvider:()=>l,Z:()=>d});var a=r(95155),s=r(12115),n=r(39747),o=r(38918);let i=(0,s.createContext)(void 0);function l(e){let{children:t}=e,[r,l]=(0,s.useState)(o.z7),[d,c]=(0,s.useState)(!0),u=async()=>{try{let e=await n.a.getSettings(),t=e.general.bankCode,r=e.general.bankName||"United Bank of Africa",a=e.general.logo,s=(0,o.MH)(t,r);s.logo=a,l(s);{let e=document.documentElement;e.style.setProperty("--brand-primary",s.colors.primary),e.style.setProperty("--brand-secondary",s.colors.secondary);let t=e=>{let t=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return t?"".concat(parseInt(t[1],16)," ").concat(parseInt(t[2],16)," ").concat(parseInt(t[3],16)):"0 65 106"};e.style.setProperty("--brand-primary-rgb",t(s.colors.primary)),e.style.setProperty("--brand-secondary-rgb",t(s.colors.secondary)),localStorage.setItem("bankBranding",JSON.stringify(s))}}catch(e){console.error("Failed to load branding:",e),l(o.z7)}finally{c(!1)}};(0,s.useEffect)(()=>{{let e=localStorage.getItem("bankBranding");if(e)try{let t=JSON.parse(e);l(t);let r=document.documentElement;r.style.setProperty("--brand-primary",t.colors.primary),r.style.setProperty("--brand-secondary",t.colors.secondary)}catch(e){}}u()},[]);let m=async()=>{await u()};return(0,a.jsx)(i.Provider,{value:{branding:r,loading:d,refreshBranding:m},children:t})}function d(){let e=(0,s.useContext)(i);if(void 0===e)throw Error("useBranding must be used within a BrandingProvider");return e}},25016:(e,t,r)=>{"use strict";r.d(t,{cn:()=>n});var a=r(2821),s=r(75889);function n(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,s.QP)((0,a.$)(t))}},32559:(e,t,r)=>{"use strict";r.d(t,{Fc:()=>l,TN:()=>c,XL:()=>d});var a=r(95155),s=r(12115),n=r(83101),o=r(25016);let i=(0,n.F)("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),l=s.forwardRef((e,t)=>{let{className:r,variant:s,...n}=e;return(0,a.jsx)("div",{ref:t,role:"alert",className:(0,o.cn)(i({variant:s}),r),...n})});l.displayName="Alert";let d=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("h5",{ref:t,className:(0,o.cn)("mb-1 font-medium leading-none tracking-tight",r),...s})});d.displayName="AlertTitle";let c=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("div",{ref:t,className:(0,o.cn)("text-sm [&_p]:leading-relaxed",r),...s})});c.displayName="AlertDescription"},37087:(e,t,r)=>{"use strict";r.d(t,{u:()=>n});var a=r(12115),s=r(81738);function n(){let{settings:e}=(0,s.t)();return(0,a.useEffect)(()=>{let t=e.general.favicon&&"/favicon.ico"!==e.general.favicon?e.general.favicon:e.general.logo;if(t){document.querySelectorAll("link[rel*='icon']").forEach(e=>e.remove());let e=document.createElement("link");e.rel="icon",e.type="image/png",e.href=t.includes("?")?t:"".concat(t,"?v=").concat(Date.now()),document.head.appendChild(e);let r=document.createElement("link");r.rel="shortcut icon",r.type="image/png",r.href=t.includes("?")?t:"".concat(t,"?v=").concat(Date.now()),document.head.appendChild(r);let a=document.querySelector("link[rel='apple-touch-icon']");a&&a.remove();let s=document.createElement("link");s.rel="apple-touch-icon",s.href=t,document.head.appendChild(s)}},[e.general.favicon,e.general.logo]),null}},39747:(e,t,r)=>{"use strict";r.d(t,{a:()=>s});var a=r(60125);let s={getSettings:async()=>(await a.A.get("/settings")).data,updateSettings:async e=>(await a.A.put("/settings",e)).data}},40285:(e,t,r)=>{"use strict";r.d(t,{n:()=>o});var a=r(25959),s=r(89436),n=r(74744);let o=(0,a.v)(e=>({user:null,isAuthenticated:!1,isLoading:!1,login:async t=>{e({isLoading:!0});try{let r=await s.Z.login(t);localStorage.setItem("accessToken",r.accessToken),localStorage.setItem("refreshToken",r.refreshToken),r.user.country&&localStorage.setItem("userCountry",r.user.country),r.user.currency&&localStorage.setItem("userCurrency",JSON.stringify({code:r.user.currency,symbol:"₦"})),e({user:r.user,isAuthenticated:!0,isLoading:!1}),n.oR.success("Login successful!")}catch(t){var r,a;throw e({isLoading:!1}),n.oR.error((null==(a=t.response)||null==(r=a.data)?void 0:r.message)||"Login failed"),t}},register:async t=>{e({isLoading:!0});try{let r=await s.Z.register(t);localStorage.setItem("accessToken",r.accessToken),localStorage.setItem("refreshToken",r.refreshToken),r.user.country&&localStorage.setItem("userCountry",r.user.country),r.user.currency&&localStorage.setItem("userCurrency",JSON.stringify({code:r.user.currency,symbol:"₦"})),e({user:r.user,isAuthenticated:!0,isLoading:!1}),n.oR.success("Registration successful!")}catch(t){var r,a;throw e({isLoading:!1}),n.oR.error((null==(a=t.response)||null==(r=a.data)?void 0:r.message)||"Registration failed"),t}},logout:()=>{localStorage.removeItem("accessToken"),localStorage.removeItem("refreshToken"),e({user:null,isAuthenticated:!1}),n.oR.info("Logged out successfully")},fetchProfile:async()=>{if(!localStorage.getItem("accessToken"))throw e({user:null,isAuthenticated:!1}),Error("No token found");try{let t=await s.Z.getProfile();e({user:t,isAuthenticated:!0})}catch(t){throw console.error("Failed to fetch profile:",t),e({user:null,isAuthenticated:!1}),t}},setUser:t=>{e({user:t,isAuthenticated:!0})}}))},54664:(e,t,r)=>{"use strict";r.d(t,{w:()=>o});var a=r(95155);r(12115);var s=r(57268),n=r(25016);function o(e){let{className:t,orientation:r="horizontal",decorative:o=!0,...i}=e;return(0,a.jsx)(s.b,{"data-slot":"separator",decorative:o,orientation:r,className:(0,n.cn)("bg-border shrink-0 data-[orientation=horizontal]:h-px data-[orientation=horizontal]:w-full data-[orientation=vertical]:h-full data-[orientation=vertical]:w-px",t),...i})}},65941:(e,t,r)=>{"use strict";r.d(t,{G:()=>o});var a=r(12115),s=r(81738),n=r(20063);function o(){let{settings:e,loading:t}=(0,s.t)(),r=(0,n.usePathname)();return(0,a.useEffect)(()=>{if(t)return;let a=r&&"/"!==r?"/about"===r?"About Us":"/careers"===r?"Careers":"/contact"===r?"Contact Us":"/faq"===r?"FAQ":"/personal-banking"===r?"Personal Banking":"/business-banking"===r?"Business Banking":"/loans-investments"===r?"Loans & Investments":"/login"===r?"Login":"/register"===r?"Register":"/forgot-password"===r?"Forgot Password":"/reset-password"===r?"Reset Password":"/super-admin/dashboard"===r?"Super Admin Dashboard":r.includes("/super-admin/users")?"Manage Users":r.includes("/super-admin/admins")?"Manage Admins":r.includes("/super-admin/audit-logs")?"Audit Logs":r.includes("/super-admin/settings")?"System Settings":"/admin/dashboard"===r?"Admin Dashboard":r.includes("/admin/users")?"User Management":r.includes("/admin/transactions")?"Transactions":r.includes("/admin/card-requests")?"Card Requests":r.includes("/admin/kyc")?"KYC Review":r.includes("/admin/settings")?"Site Settings":r.includes("/admin/deposits")?"Deposits":r.includes("/admin/transfers")?"Transfers":r.includes("/admin/loans")?"Loans":r.includes("/admin/support")?"Support Tickets":"/user/dashboard"===r?"Dashboard":r.includes("/user/cards")?"My Cards":r.includes("/user/transactions")?"Transactions":r.includes("/user/transfer")?"Transfer":r.includes("/user/deposit")?"Deposit":r.includes("/user/withdraw")?"Withdraw":r.includes("/user/settings")?"Settings":r.includes("/user/kyc")?"KYC Verification":r.includes("/user/profile")?"Profile":r.includes("/user/loans")?"Loans":r.includes("/user/support")?"Support":"Home":"Home",s=e.general.siteName||"Banking Platform";document.title="".concat(a," - ").concat(s)},[e.general.siteName,r,t]),null}},67812:(e,t,r)=>{"use strict";r.d(t,{E:()=>l});var a=r(95155);r(12115);var s=r(32467),n=r(83101),o=r(25016);let i=(0,n.F)("inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground"}},defaultVariants:{variant:"default"}});function l(e){let{className:t,variant:r,asChild:n=!1,...l}=e,d=n?s.DX:"span";return(0,a.jsx)(d,{"data-slot":"badge",className:(0,o.cn)(i({variant:r}),t),...l})}},86001:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>Q});var a=r(95155),s=r(12115),n=r(20063),o=r(40285),i=r(52619),l=r.n(i),d=r(59384),c=r(20508),u=r(76907),m=r(89715),g=r(15870),h=r(39867),f=r(93341),x=r(91761),p=r(78519),v=r(55867),b=r(82063),y=r(50906),w=r(18085),N=r(39068),j=r(20908),k=r(84926),A=r(54664),S=r(81738),C=r(14324),E=r(95125);let R=r(95704).env.REACT_APP_API_URL||"http://localhost:3001/api",T=E.A.create({baseURL:R,timeout:1e4,headers:{"Content-Type":"application/json"}});T.interceptors.request.use(e=>{let t=localStorage.getItem("accessToken");return t&&(e.headers.Authorization="Bearer ".concat(t)),e},e=>Promise.reject(e)),T.interceptors.response.use(e=>e,e=>{var t;return(null==(t=e.response)?void 0:t.status)===401&&(localStorage.removeItem("accessToken"),localStorage.removeItem("refreshToken"),window.location.href="/login"),Promise.reject(e)});var P=r(67812),D=r(26497),I=r(8751),L=r(65229);function z(e){var t,r,i,E,R,z,M,U,B;let{isOpen:_,onClose:F}=e,K=(0,n.usePathname)();(0,n.useRouter)();let{user:O,logout:q}=(0,o.n)(),{settings:V}=(0,S.t)(),{branding:Y}=(0,C.Z)(),{counts:G}=function(){let{user:e}=(0,o.n)(),[t,r]=(0,s.useState)({pendingLoans:0,pendingCardRequests:0,pendingKyc:0,pendingTransferCodes:0,openSupportTickets:0}),[a,n]=(0,s.useState)(!0),i=async()=>{try{let e=await T.get("/admin/sidebar-counts");r(e.data||{pendingLoans:0,pendingCardRequests:0,pendingKyc:0,pendingTransferCodes:0,openSupportTickets:0})}catch(e){console.error("Error fetching admin counts:",e),r({pendingLoans:0,pendingCardRequests:0,pendingKyc:0,pendingTransferCodes:0,openSupportTickets:0})}finally{n(!1)}};return(0,s.useEffect)(()=>{if((null==e?void 0:e.role)==="BANK_ADMIN"){i();let e=setInterval(i,3e4);return()=>clearInterval(e)}n(!1)},[e]),{counts:t,loading:a,refetch:i}}(),Z=(null==O?void 0:O.role)==="BANK_ADMIN"?G:{pendingLoans:0,pendingCardRequests:0,pendingKyc:0,pendingTransferCodes:0,openSupportTickets:0},$=(M=null==O?void 0:O.role,U=null==O?void 0:O.accountStatus,B=null==O||null==(t=O.kyc)?void 0:t.status,"SUPER_ADMIN"===M?[{title:"MAIN MENU",items:[{icon:d.A,label:"Dashboard",href:"/super-admin/dashboard"},{icon:c.A,label:"Manage Users",href:"/super-admin/users"},{icon:u.A,label:"Manage Admins",href:"/super-admin/admins"},{icon:m.A,label:"Audit Logs",href:"/super-admin/audit-logs"}]},{title:"ACCOUNT",items:[{icon:g.A,label:"System Settings",href:"/super-admin/settings"}]}]:"BANK_ADMIN"===M?[{title:"MAIN MENU",items:[{icon:d.A,label:"Dashboard",href:"/admin/dashboard"},{icon:c.A,label:"User Management",href:"/admin/users"},{icon:m.A,label:"Transactions",href:"/admin/transactions"}]},{title:"FINANCIAL",items:[{icon:h.A,label:"Deposits",href:"/admin/deposits"},{icon:f.A,label:"Transfers",href:"/admin/transfers"},{icon:x.A,label:"Loans",href:"/admin/loans"}]},{title:"SERVICES",items:[{icon:p.A,label:"Card Requests",href:"/admin/card-requests"},{icon:u.A,label:"KYC Review",href:"/admin/kyc"},{icon:v.A,label:"Transfer Code Requests",href:"/admin/transfer-codes"},{icon:b.A,label:"Support Tickets",href:"/admin/support"}]},{title:"ACCOUNT",items:[{icon:g.A,label:"Site Settings",href:"/admin/settings"}]}]:"SUSPENDED"===U?[{title:"ACCOUNT",items:[{icon:u.A,label:"KYC Verification",href:"/user/kyc"},{icon:c.A,label:"Profile",href:"/user/profile"},{icon:g.A,label:"Settings",href:"/user/settings"}]}]:[{title:"MAIN MENU",items:[{icon:d.A,label:"Dashboard",href:"/user/dashboard"},{icon:y.A,label:"Transactions",href:"/user/transactions"},{icon:p.A,label:"Cards",href:"/user/cards"}]},{title:"TRANSFERS",items:[{icon:w.A,label:"Local Transfer",href:"/user/transfer"},{icon:N.A,label:"International Wire",href:"/user/international"},{icon:h.A,label:"Deposit",href:"/user/deposit"}]},{title:"SERVICES",items:[{icon:x.A,label:"Loan Request",href:"/user/loans"}]},{title:"ACCOUNT",items:[..."APPROVED"!==B?[{icon:u.A,label:"KYC Verification",href:"/user/kyc"}]:[],{icon:g.A,label:"Settings",href:"/user/settings"},{icon:j.A,label:"Support Ticket",href:"/user/support"}]}]);O&&O.country&&"NG"!==O.country.toUpperCase()&&($=$.map(e=>({...e,items:e.items.filter(e=>"/user/transfer"!==e.href)})));let J=()=>{q(),window.location.href="/login"},W=(null==V||null==(i=V.general)||null==(r=i.siteName)?void 0:r.charAt(0).toUpperCase())||"B",H=(null==V||null==(R=V.general)||null==(E=R.siteName)?void 0:E.split(" ").slice(0,2).join(" "))||"Bank",X=(null==V||null==(z=V.general)?void 0:z.logo)&&"/logo.png"!==V.general.logo,Q=()=>{var e,t,r,s;return(0,a.jsxs)("div",{className:"flex flex-col h-full bg-gradient-to-b from-slate-900 via-slate-800 to-slate-900 text-white overflow-hidden shadow-2xl border-r border-slate-700/50 relative",children:[(0,a.jsx)("div",{className:"absolute inset-0 pointer-events-none",style:{background:"linear-gradient(to bottom right, ".concat(Y.colors.primary,"08, ").concat(Y.colors.secondary,"08)")}}),(0,a.jsx)("div",{className:"absolute top-0 right-0 w-32 h-32 rounded-full blur-3xl",style:{backgroundColor:"".concat(Y.colors.primary,"1A")}}),(0,a.jsx)("div",{className:"absolute bottom-0 left-0 w-32 h-32 rounded-full blur-3xl",style:{backgroundColor:"".concat(Y.colors.secondary,"1A")}}),(0,a.jsxs)("div",{className:"p-6 flex-shrink-0 relative z-10 flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3 group",children:[X?(0,a.jsx)("img",{src:V.general.logo,alt:"".concat(V.general.siteName," Logo"),className:"h-11 w-11 rounded-xl object-cover bg-white shadow-lg ring-2 transition-all",style:{borderColor:"".concat(Y.colors.primary,"4D")},onMouseEnter:e=>e.currentTarget.style.borderColor="".concat(Y.colors.primary,"80"),onMouseLeave:e=>e.currentTarget.style.borderColor="".concat(Y.colors.primary,"4D"),onError:e=>{var t;e.currentTarget.style.display="none",null==(t=e.currentTarget.nextElementSibling)||t.classList.remove("hidden")}}):null,(0,a.jsx)("div",{className:"h-11 w-11 rounded-xl flex items-center justify-center text-xl font-bold shadow-lg ring-2 transition-all ".concat(X?"hidden":""),style:{background:"linear-gradient(135deg, ".concat(Y.colors.primary,", ").concat(Y.colors.secondary,")"),borderColor:"".concat(Y.colors.primary,"4D")},children:W}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-xl font-bold bg-gradient-to-r from-white to-blue-100 bg-clip-text text-transparent",children:H}),(0,a.jsx)("p",{className:"text-xs text-gray-400 font-medium",children:"Digital Banking"})]})]}),(0,a.jsx)("button",{onClick:F,className:"md:hidden p-2 text-gray-400 hover:text-white rounded-lg hover:bg-white/10 transition-colors",children:(0,a.jsx)(L.A,{className:"h-6 w-6"})})]}),(0,a.jsx)(A.w,{className:"bg-gradient-to-r from-transparent via-gray-700 to-transparent flex-shrink-0 relative z-10"}),(0,a.jsx)("div",{className:"px-4 pb-4 flex-shrink-0 relative z-10",children:(0,a.jsxs)("div",{className:"bg-gradient-to-br from-slate-800/80 to-slate-900/80 backdrop-blur-sm rounded-2xl p-4 border shadow-xl hover:shadow-2xl transition-all duration-300 group",style:{borderColor:"rgba(100, 116, 139, 0.5)"},onMouseEnter:e=>e.currentTarget.style.borderColor="".concat(Y.colors.primary,"4D"),onMouseLeave:e=>e.currentTarget.style.borderColor="rgba(100, 116, 139, 0.5)",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3 mb-3",children:[(0,a.jsxs)("div",{className:"h-11 w-11 rounded-xl flex items-center justify-center text-white font-bold text-sm flex-shrink-0 shadow-lg ring-2 group-hover:scale-105 transition-all",style:{background:"linear-gradient(135deg, ".concat(Y.colors.primary,", ").concat(Y.colors.secondary,")"),borderColor:"".concat(Y.colors.primary,"4D")},children:[null==O||null==(e=O.firstName)?void 0:e.charAt(0),null==O||null==(t=O.lastName)?void 0:t.charAt(0)]}),(0,a.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,a.jsxs)("p",{className:"font-bold text-sm text-white truncate",children:[null==O?void 0:O.firstName," ",null==O?void 0:O.lastName]}),(0,a.jsxs)("p",{className:"text-xs text-gray-400 truncate font-mono",children:["ID: ",null==O||null==(r=O.id)?void 0:r.slice(0,12)]})]})]}),(null==O?void 0:O.role)==="USER"&&(null==O||null==(s=O.kyc)?void 0:s.status)?(0,a.jsxs)("div",{className:"flex items-center gap-1.5 mb-3 text-xs ".concat("APPROVED"===O.kyc.status?"text-green-400":"PENDING"===O.kyc.status?"text-yellow-400":"REJECTED"===O.kyc.status?"text-red-400":"text-gray-400"),children:["APPROVED"===O.kyc.status?(0,a.jsx)("svg",{className:"h-4 w-4",fill:"currentColor",viewBox:"0 0 20 20",children:(0,a.jsx)("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}):"PENDING"===O.kyc.status?(0,a.jsx)("svg",{className:"h-4 w-4",fill:"currentColor",viewBox:"0 0 20 20",children:(0,a.jsx)("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm-1-11a1 1 0 112 0v3.586l1.707 1.707a1 1 0 01-1.414 1.414l-2-2A1 1 0 019 11V7z",clipRule:"evenodd"})}):(0,a.jsx)("svg",{className:"h-4 w-4",fill:"currentColor",viewBox:"0 0 20 20",children:(0,a.jsx)("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})}),(0,a.jsx)("span",{className:"font-medium",children:"APPROVED"===O.kyc.status?"KYC Verified":"PENDING"===O.kyc.status?"KYC Pending":"REJECTED"===O.kyc.status?"KYC Rejected":O.kyc.status})]}):(null==O?void 0:O.role)==="USER"?(0,a.jsxs)("div",{className:"flex items-center gap-1.5 mb-3 text-xs text-gray-400",children:[(0,a.jsx)("svg",{className:"h-4 w-4",fill:"currentColor",viewBox:"0 0 20 20",children:(0,a.jsx)("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z",clipRule:"evenodd"})}),(0,a.jsx)("span",{className:"font-medium",children:"KYC Not Submitted"})]}):null,(0,a.jsxs)("div",{className:"flex gap-2",children:[(0,a.jsxs)(l(),{href:"/user/profile",className:"flex-1 flex items-center justify-center gap-1.5 px-3 py-2.5 text-xs font-bold text-gray-200 bg-gradient-to-br from-slate-700 to-slate-800 border border-slate-600 rounded-lg hover:from-slate-600 hover:to-slate-700 hover:border-blue-500/50 hover:text-white hover:shadow-lg transition-all transform hover:scale-105",children:[(0,a.jsx)(c.A,{className:"h-3.5 w-3.5"}),"Profile"]}),(0,a.jsxs)("button",{onClick:J,className:"flex-1 flex items-center justify-center gap-1.5 px-3 py-2.5 text-xs font-bold text-white bg-gradient-to-br from-red-600 to-red-700 rounded-lg hover:from-red-500 hover:to-red-600 hover:shadow-lg hover:shadow-red-500/30 transition-all transform hover:scale-105",children:[(0,a.jsx)(k.A,{className:"h-3.5 w-3.5"}),"Logout"]})]})]})}),(0,a.jsx)(A.w,{className:"bg-gradient-to-r from-transparent via-gray-700 to-transparent flex-shrink-0 relative z-10"}),(0,a.jsx)("nav",{className:"flex-1 px-3 py-4 overflow-y-auto scrollbar-thin scrollbar-thumb-blue-600/30 scrollbar-track-transparent hover:scrollbar-thumb-blue-600/50 relative z-10",children:$.map((e,t)=>(0,a.jsxs)("div",{className:t>0?"mt-6":"",children:[(0,a.jsx)("div",{className:"px-3 mb-3",children:(0,a.jsxs)("h3",{className:"text-xs font-bold text-gray-400 uppercase tracking-wider flex items-center gap-2",children:[(0,a.jsx)("div",{className:"h-px flex-1 bg-gradient-to-r from-gray-700 via-gray-600 to-transparent"}),(0,a.jsx)("span",{children:e.title}),(0,a.jsx)("div",{className:"h-px flex-1 bg-gradient-to-l from-gray-700 via-gray-600 to-transparent"})]})}),(0,a.jsx)("div",{className:"space-y-1.5",children:e.items.map(e=>{let t=e.icon,r=K===e.href,s=0;return(null==O?void 0:O.role)==="BANK_ADMIN"&&("/admin/loans"===e.href?s=Z.pendingLoans:"/admin/card-requests"===e.href?s=Z.pendingCardRequests:"/admin/kyc"===e.href?s=Z.pendingKyc:"/admin/transfer-codes"===e.href?s=Z.pendingTransferCodes:"/admin/support"===e.href&&(s=Z.openSupportTickets)),(0,a.jsxs)(l(),{href:e.href,onClick:F,className:"group flex items-center gap-3 px-4 py-3 rounded-xl transition-all text-sm font-medium relative overflow-hidden ".concat(r?"text-white shadow-lg scale-[1.02]":"text-gray-300 hover:bg-gradient-to-r hover:from-slate-800 hover:to-slate-700 hover:text-white hover:shadow-md hover:scale-[1.02]"," ").concat(r?"":"border border-transparent"),style:r?{background:"linear-gradient(to right, ".concat(Y.colors.primary,", ").concat(Y.colors.secondary,")"),boxShadow:"0 10px 25px -5px ".concat(Y.colors.primary,"4D")}:{},children:[!r&&(0,a.jsx)("div",{className:"absolute inset-0 opacity-0 group-hover:opacity-100 transition-opacity duration-500",children:(0,a.jsx)("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/5 to-transparent -skew-x-12 group-hover:animate-shine"})}),(0,a.jsx)(t,{className:"h-5 w-5 flex-shrink-0 transition-transform group-hover:scale-110 ".concat(r?"drop-shadow-sm":"")}),(0,a.jsx)("span",{className:"truncate flex-1",children:e.label}),s>0&&(0,a.jsx)(P.E,{className:"ml-auto h-5 min-w-[20px] px-1.5 text-xs font-bold shadow-lg animate-pulse ".concat(r?"bg-white":"bg-gradient-to-r from-red-600 to-red-700 text-white ring-2 ring-red-400/30"),style:r?{color:Y.colors.primary}:{},children:s})]},e.href)})})]},e.title))})]})};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"hidden md:flex h-screen w-64 flex-col fixed inset-y-0 z-50",children:(0,a.jsx)(Q,{})}),(0,a.jsx)("div",{className:"hidden md:block w-64 flex-shrink-0"}),(0,a.jsx)(D.N,{children:_&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(I.P.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:F,className:"md:hidden fixed inset-0 bg-black/60 backdrop-blur-sm z-40"}),(0,a.jsx)(I.P.div,{initial:{x:"-100%"},animate:{x:0},exit:{x:"-100%"},transition:{type:"spring",damping:25,stiffness:200},className:"md:hidden fixed inset-y-0 left-0 w-72 z-50",children:(0,a.jsx)(Q,{})})]})})]})}var M=r(61362),U=r(78874),B=r(52056),_=r(23327),F=r(9540),K=r(75091),O=r(85998),q=r(5917),V=r(71360),Y=r(97003),G=r(7220),Z=r(22663);function $(e){let{onMenuClick:t}=e,{user:r}=(0,o.n)(),[n,i]=(0,s.useState)([]),[l,d]=(0,s.useState)(0),[c,u]=(0,s.useState)(!1),[m,g]=(0,s.useState)(""),[h,f]=(0,s.useState)("");(0,s.useEffect)(()=>{if(r&&1){var e;p(),x(),f(r.firstName||(null==(e=r.email)?void 0:e.split("@")[0])||"User");let t=setInterval(p,3e4),a=setInterval(x,6e4);return()=>{clearInterval(t),clearInterval(a)}}},[r]);let x=()=>{let e=new Date().getHours();e<12?g("Good morning"):e<17?g("Good afternoon"):g("Good evening")},p=async()=>{try{let e=(await T.get("/notifications")).data||[];i(e),d(e.filter(e=>!e.isRead).length)}catch(t){var e;(null==t||null==(e=t.response)?void 0:e.status)!==404&&console.error("Failed to fetch notifications:",(null==t?void 0:t.message)||t),i([]),d(0)}},v=async e=>{try{await T.patch("/notifications/".concat(e,"/read")),i(n.map(t=>t.id===e?{...t,isRead:!0}:t)),d(Math.max(0,l-1))}catch(e){console.error("Failed to mark notification as read:",e)}},b=async()=>{try{await T.post("/notifications/mark-all-read"),i(n.map(e=>({...e,isRead:!0}))),d(0),Z.Ay.success("All notifications marked as read")}catch(e){console.error("Failed to mark all as read:",e)}},y=async(e,t)=>{t.stopPropagation();try{await T.delete("/notifications/".concat(e));let t=n.find(t=>t.id===e);i(n.filter(t=>t.id!==e)),t&&!t.isRead&&d(Math.max(0,l-1)),Z.Ay.success("Notification deleted")}catch(e){console.error("Failed to delete notification:",e),Z.Ay.error("Failed to delete notification")}},w=async()=>{try{await T.post("/notifications/delete-all"),i([]),d(0),Z.Ay.success("All notifications deleted")}catch(e){console.error("Failed to delete all notifications:",e),Z.Ay.error("Failed to delete notifications")}};return(0,a.jsxs)("div",{className:"h-16 bg-gradient-to-r from-white via-blue-50/30 to-purple-50/30 backdrop-blur-sm border-b border-gray-200/50 shadow-sm flex items-center justify-between px-4 md:px-6 relative overflow-hidden",children:[(0,a.jsx)("div",{className:"absolute inset-0 bg-gradient-to-r from-blue-500/5 via-purple-500/5 to-pink-500/5 animate-gradient"}),(0,a.jsxs)("div",{className:"flex-1 relative z-10 flex items-center gap-3",children:[(0,a.jsx)("button",{onClick:t,className:"md:hidden p-2 -ml-2 text-gray-600 hover:text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",children:(0,a.jsx)(F.A,{className:"h-6 w-6"})}),r&&(0,a.jsx)("div",{className:"flex items-center gap-2.5 group",children:(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("div",{className:"h-10 w-10 rounded-xl bg-gradient-to-br from-blue-600 to-purple-600 flex items-center justify-center shadow-md group-hover:shadow-lg transition-shadow hidden sm:flex",children:(0,a.jsx)("span",{className:"text-xl",children:"\uD83D\uDC4B"})}),(0,a.jsxs)("div",{className:"flex flex-col",children:[(0,a.jsx)("span",{className:"text-xs font-medium text-gray-500 uppercase tracking-wide hidden sm:block",children:m}),(0,a.jsx)("h2",{className:"text-lg font-bold bg-gradient-to-r from-gray-800 via-blue-700 to-purple-700 bg-clip-text text-transparent leading-tight",children:h})]})]})})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2 md:gap-4 relative z-10",children:[(0,a.jsxs)(G.rI,{open:c,onOpenChange:u,children:[(0,a.jsx)(G.ty,{asChild:!0,children:(0,a.jsxs)(Y.$,{variant:"ghost",size:"icon",className:"relative h-10 w-10 rounded-xl hover:bg-gradient-to-br hover:from-blue-50 hover:to-purple-50 transition-all group",children:[l>0?(0,a.jsx)(K.A,{className:"h-5 w-5 text-blue-600 animate-pulse"}):(0,a.jsx)(O.A,{className:"h-5 w-5 text-gray-600 group-hover:text-blue-600 transition-colors"}),l>0&&(0,a.jsx)(P.E,{className:"absolute -top-1 -right-1 h-5 min-w-[20px] px-1 flex items-center justify-center text-[10px] font-bold bg-gradient-to-r from-red-500 to-red-600 border-2 border-white shadow-lg animate-pulse",children:l>99?"99+":l})]})}),(0,a.jsxs)(G.SQ,{align:"end",className:"w-80 md:w-96 shadow-2xl border-2 border-gray-100 rounded-2xl overflow-hidden",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between p-4 bg-gradient-to-r from-blue-50 via-purple-50 to-pink-50 border-b border-gray-200",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("div",{className:"h-8 w-8 rounded-lg bg-gradient-to-br from-blue-600 to-purple-600 flex items-center justify-center shadow-md",children:(0,a.jsx)(O.A,{className:"h-4 w-4 text-white"})}),(0,a.jsx)("h3",{className:"font-bold text-base bg-gradient-to-r from-gray-800 to-gray-600 bg-clip-text text-transparent",children:"Notifications"}),l>0&&(0,a.jsxs)(P.E,{className:"bg-red-500 text-white text-xs px-2 py-0.5 font-bold shadow-sm",children:[l," new"]})]}),(0,a.jsxs)("div",{className:"flex gap-1",children:[l>0&&(0,a.jsxs)(Y.$,{variant:"ghost",size:"sm",onClick:b,className:"h-8 text-xs font-semibold text-blue-600 hover:text-blue-700 hover:bg-blue-100 rounded-lg px-3",children:[(0,a.jsx)(q.A,{className:"w-3.5 h-3.5 mr-1.5"}),"Mark read"]}),n.length>0&&(0,a.jsxs)(Y.$,{variant:"ghost",size:"sm",onClick:w,className:"h-8 text-xs font-semibold text-red-600 hover:text-red-700 hover:bg-red-50 rounded-lg px-3",children:[(0,a.jsx)(V.A,{className:"w-3.5 h-3.5 mr-1.5"}),"Clear"]})]})]}),(0,a.jsx)("div",{className:"max-h-[32rem] overflow-y-auto scrollbar-thin scrollbar-thumb-gray-300 scrollbar-track-transparent",children:0===n.length?(0,a.jsxs)("div",{className:"p-12 text-center",children:[(0,a.jsx)("div",{className:"w-16 h-16 mx-auto mb-4 rounded-2xl bg-gradient-to-br from-gray-100 to-gray-200 flex items-center justify-center",children:(0,a.jsx)(O.A,{className:"w-8 h-8 text-gray-400"})}),(0,a.jsx)("p",{className:"text-sm font-semibold text-gray-600 mb-1",children:"No notifications"}),(0,a.jsx)("p",{className:"text-xs text-gray-400",children:"You're all caught up!"})]}):(0,a.jsx)("div",{className:"divide-y divide-gray-100",children:n.map(e=>(0,a.jsxs)(G._2,{className:"p-4 cursor-pointer flex gap-3 items-start group transition-all relative ".concat(e.isRead?"hover:bg-gray-50":(e=>{switch(e){case"SUCCESS":return"bg-green-50 hover:bg-green-100";case"ERROR":return"bg-red-50 hover:bg-red-100";case"WARNING":return"bg-yellow-50 hover:bg-yellow-100";default:return"bg-blue-50 hover:bg-blue-100"}})(e.type)+" border-l-4 border-blue-500"),onClick:()=>!e.isRead&&v(e.id),children:[(0,a.jsx)("div",{className:"mt-0.5 flex-shrink-0",children:(e=>{switch(e){case"SUCCESS":return(0,a.jsx)(M.A,{className:"w-5 h-5 text-green-500"});case"ERROR":return(0,a.jsx)(U.A,{className:"w-5 h-5 text-red-500"});case"WARNING":return(0,a.jsx)(B.A,{className:"w-5 h-5 text-yellow-500"});default:return(0,a.jsx)(_.A,{className:"w-5 h-5 text-blue-500"})}})(e.type)}),(0,a.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,a.jsxs)("div",{className:"flex items-start justify-between gap-2 mb-1",children:[(0,a.jsx)("p",{className:"font-bold text-sm text-gray-900 leading-tight",children:e.title}),!e.isRead&&(0,a.jsx)("div",{className:"w-2 h-2 rounded-full bg-blue-600 flex-shrink-0 animate-pulse"})]}),(0,a.jsx)("p",{className:"text-xs text-gray-700 leading-relaxed line-clamp-2 mb-2",children:e.message}),(0,a.jsx)("p",{className:"text-[10px] font-medium text-gray-500 uppercase tracking-wide",children:new Date(e.createdAt).toLocaleString("en-US",{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})})]}),(0,a.jsx)(Y.$,{variant:"ghost",size:"sm",onClick:t=>y(e.id,t),className:"h-8 w-8 p-0 opacity-0 group-hover:opacity-100 transition-all flex-shrink-0 hover:bg-red-100 rounded-lg",children:(0,a.jsx)(V.A,{className:"w-3.5 h-3.5 text-red-500"})})]},e.id))})})]})]}),(0,a.jsxs)("div",{className:"hidden md:flex flex-col items-end px-4 py-2 rounded-xl bg-gradient-to-br from-gray-50 to-gray-100 border border-gray-200/50 shadow-sm",children:[(0,a.jsx)("div",{className:"text-xs font-semibold text-gray-700",children:new Date().toLocaleDateString("en-US",{weekday:"short",month:"short",day:"numeric"})}),(0,a.jsx)("div",{className:"text-[10px] font-medium text-gray-500",children:new Date().toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"})})]})]})]})}var J=r(32559),W=r(6132),H=r(65941),X=r(37087);function Q(e){let{children:t}=e,r=(0,n.useRouter)(),i=(0,n.usePathname)(),{user:l,fetchProfile:d}=(0,o.n)(),[c,u]=(0,s.useState)(!0),[m,g]=(0,s.useState)(!1);return((0,s.useEffect)(()=>{(async()=>{if(!localStorage.getItem("accessToken"))return r.push("/login");try{await d()}catch(e){console.error("Failed to load profile:",null==e?void 0:e.message),localStorage.removeItem("accessToken"),localStorage.removeItem("refreshToken"),r.push("/login")}finally{u(!1)}})()},[]),(0,s.useEffect)(()=>{l&&"SUSPENDED"===l.accountStatus&&i&&(["/user/kyc","/user/profile","/user/settings"].some(e=>i.startsWith(e))||r.push("/user/kyc"))},[l,i,r]),c||!l)?(0,a.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,a.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):(0,a.jsx)(S.SettingsProvider,{children:(0,a.jsxs)(C.BrandingProvider,{children:[(0,a.jsx)(H.G,{}),(0,a.jsx)(X.u,{}),(0,a.jsxs)("div",{className:"flex h-screen overflow-hidden",children:[(0,a.jsx)(z,{isOpen:m,onClose:()=>g(!1)}),(0,a.jsxs)("div",{className:"flex-1 flex flex-col overflow-hidden",children:[(0,a.jsx)($,{onMenuClick:()=>g(!0)}),(0,a.jsxs)("main",{className:"flex-1 overflow-y-auto bg-gray-50 p-6",children:[(null==l?void 0:l.accountStatus)==="SUSPENDED"&&(null==i?void 0:i.startsWith("/user/kyc"))&&(0,a.jsxs)(J.Fc,{className:"mb-6 border-red-200 bg-red-50",children:[(0,a.jsx)(W.A,{className:"h-4 w-4 text-red-600"}),(0,a.jsx)(J.XL,{className:"text-red-800",children:"Account Suspended"}),(0,a.jsx)(J.TN,{className:"text-red-700",children:"Your account has been suspended due to KYC rejection. Please resubmit your KYC documents below to regain full access to your account."})]}),(null==l?void 0:l.accountStatus)==="PENDING"&&(0,a.jsxs)(J.Fc,{className:"mb-6 border-yellow-200 bg-yellow-50",children:[(0,a.jsx)(W.A,{className:"h-4 w-4 text-yellow-600"}),(0,a.jsx)(J.XL,{className:"text-yellow-800",children:"Account Pending Verification"}),(0,a.jsx)(J.TN,{className:"text-yellow-700",children:"Your account is pending KYC verification. Some features may be limited until your KYC is approved."})]}),t]})]})]})]})})}},89436:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});var a=r(60125);let s={register:async e=>(await a.A.post("/auth/register",e)).data,login:async e=>(await a.A.post("/auth/login",e)).data,getProfile:async()=>(await a.A.get("/auth/me")).data,refreshToken:async e=>(await a.A.post("/auth/refresh",{refreshToken:e})).data,changePassword:async(e,t,r)=>(await a.A.patch("/auth/change-password",{currentPassword:e,newPassword:t,confirmPassword:r})).data,getUserSettings:async()=>(await a.A.get("/auth/settings")).data,updateUserSettings:async e=>(await a.A.patch("/auth/settings",e)).data,forgotPassword:async e=>(await a.A.post("/auth/forgot-password",{email:e})).data,resetPassword:async e=>(await a.A.post("/auth/reset-password",e)).data,sendVerificationEmail:async()=>(await a.A.post("/auth/send-verification-email")).data,verifyEmail:async(e,t)=>(await a.A.post("/auth/verify-email",{otpId:e,code:t})).data}},97003:(e,t,r)=>{"use strict";r.d(t,{$:()=>l});var a=r(95155);r(12115);var s=r(32467),n=r(83101),o=r(25016);let i=(0,n.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-white hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9","icon-sm":"size-8","icon-lg":"size-10"}},defaultVariants:{variant:"default",size:"default"}});function l(e){let{className:t,variant:r,size:n,asChild:l=!1,...d}=e,c=l?s.DX:"button";return(0,a.jsx)(c,{"data-slot":"button",className:(0,o.cn)(i({variant:r,size:n,className:t})),...d})}}},e=>{e.O(0,[5125,2663,4909,3358,3148,2619,2518,6910,4657,4744,5248,7556,5503,8441,1255,7358],()=>e(e.s=9569)),_N_E=e.O()}]);