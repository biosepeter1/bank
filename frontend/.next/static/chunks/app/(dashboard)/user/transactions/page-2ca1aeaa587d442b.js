(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3004],{1914:(e,t,a)=>{Promise.resolve().then(a.bind(a,54526))},11159:(e,t,a)=>{"use strict";a.d(t,{y:()=>n});var r=a(60125);let n={getWallet:async()=>(await r.A.get("/wallet")).data,getBalance:async()=>(await r.A.get("/wallet/balance")).data,deposit:async(e,t)=>(await r.A.post("/wallet/deposit",{amount:e,description:t})).data,withdraw:async(e,t)=>(await r.A.post("/wallet/withdraw",{amount:e,description:t})).data,transfer:async(e,t,a)=>(await r.A.post("/wallet/transfer",{recipientId:e,amount:t,description:a})).data}},36859:(e,t,a)=>{"use strict";a.d(t,{s:()=>n});var r=a(60125);let n={submitKyc:async e=>(await r.A.post("/kyc/submit",e)).data,getStatus:async()=>(await r.A.get("/kyc/status")).data,uploadIdDocument:async e=>{let t=new FormData;return t.append("file",e),(await r.A.post("/kyc/upload/id-document",t,{headers:{"Content-Type":"multipart/form-data"}})).data},uploadProofOfAddress:async e=>{let t=new FormData;return t.append("file",e),(await r.A.post("/kyc/upload/proof-of-address",t,{headers:{"Content-Type":"multipart/form-data"}})).data},uploadSelfie:async e=>{let t=new FormData;return t.append("file",e),(await r.A.post("/kyc/upload/selfie",t,{headers:{"Content-Type":"multipart/form-data"}})).data}}},38918:(e,t,a)=>{"use strict";a.d(t,{MH:()=>s,dD:()=>r,z7:()=>n});let r={"011":{name:"First Bank of Nigeria",code:"011",shortName:"FirstBank",email:"support@firstbank.ng",phone:"+234 800 000 0000",website:"www.firstbanknigeria.com",address:"Samuel Asabia House, 35 Marina",city:"Lagos Island, Lagos",colors:{primary:"#00416A",secondary:"#FFB81C",rgb:[0,65,106]},tagline:"Truly the First",watermark:"FIRST BANK"},"033":{name:"United Bank for Africa",code:"033",shortName:"UBA",email:"contactcentre@ubagroup.com",phone:"+234 700 225 5822",website:"www.ubagroup.com",address:"UBA House, 57 Marina",city:"Lagos Island, Lagos",colors:{primary:"#D4002A",secondary:"#000000",rgb:[212,0,42]},tagline:"Africa's Global Bank",watermark:"UBA"},"057":{name:"Zenith Bank",code:"057",shortName:"Zenith",email:"customercare@zenithbank.com",phone:"+234 1 278 7000",website:"www.zenithbank.com",address:"Plot 84, Ajose Adeogun Street",city:"Victoria Island, Lagos",colors:{primary:"#EB1C24",secondary:"#000000",rgb:[235,28,36]},tagline:"Your Bank, Our Pride",watermark:"ZENITH BANK"},"058":{name:"Guaranty Trust Bank",code:"058",shortName:"GTBank",email:"gti@gtbank.com",phone:"+234 1 448 0000",website:"www.gtbank.com",address:"Plot 635, Akin Adesola Street",city:"Victoria Island, Lagos",colors:{primary:"#FF6600",secondary:"#000000",rgb:[255,102,0]},tagline:"Africa's Leading Financial Institution",watermark:"GTBANK"},"044":{name:"Access Bank",code:"044",shortName:"Access",email:"contactcenter@accessbankplc.com",phone:"+234 1 271 2005",website:"www.accessbankplc.com",address:"Plot 1665, Oyin Jolayemi Street",city:"Victoria Island, Lagos",colors:{primary:"#F37920",secondary:"#000000",rgb:[243,121,32]},tagline:"Your Partner in Progress",watermark:"ACCESS BANK"},"035":{name:"Wema Bank",code:"035",shortName:"Wema",email:"customercare@wemabank.com",phone:"+234 1 277 5050",website:"www.wemabank.com",address:"54 Marina",city:"Lagos Island, Lagos",colors:{primary:"#800080",secondary:"#FFD700",rgb:[128,0,128]},tagline:"We are Wema",watermark:"WEMA BANK"},"070":{name:"Fidelity Bank",code:"070",shortName:"Fidelity",email:"customerservice@fidelitybank.ng",phone:"+234 1 448 5500",website:"www.fidelitybank.ng",address:"2 Kofo Abayomi Street",city:"Victoria Island, Lagos",colors:{primary:"#D4AF37",secondary:"#1A1A1A",rgb:[212,175,55]},tagline:"Fidelity Bank - Your Trusted Partner",watermark:"FIDELITY BANK"},232:{name:"Sterling Bank",code:"232",shortName:"Sterling",email:"contactcentre@sterling.ng",phone:"+234 700 7835 7546",website:"www.sterling.ng",address:"20 Marina",city:"Lagos Island, Lagos",colors:{primary:"#00D5FF",secondary:"#FF5C00",rgb:[0,213,255]},tagline:"One Customer, One Bank",watermark:"STERLING BANK"},214:{name:"First City Monument Bank",code:"214",shortName:"FCMB",email:"hello@fcmb.com",phone:"+234 700 329 0000",website:"www.fcmb.com",address:"Primrose Towers, 17A Tinubu Street",city:"Lagos Island, Lagos",colors:{primary:"#6D2077",secondary:"#FDB913",rgb:[109,32,119]},tagline:"The Right Way Forward",watermark:"FCMB"},"032":{name:"Union Bank of Nigeria",code:"032",shortName:"Union",email:"unioncontactcentre@unionbankng.com",phone:"+234 700 700 7000",website:"www.unionbankng.com",address:"Stallion Plaza, 36 Marina",city:"Lagos Island, Lagos",colors:{primary:"#002D5B",secondary:"#00A651",rgb:[0,45,91]},tagline:"Big, Strong, Reliable",watermark:"UNION BANK"},"050":{name:"Ecobank Nigeria",code:"050",shortName:"Ecobank",email:"customercare@ecobank.com",phone:"+234 1 270 9502",website:"www.ecobank.com",address:"21 Ahmadu Bello Way",city:"Victoria Island, Lagos",colors:{primary:"#003399",secondary:"#FF0000",rgb:[0,51,153]},tagline:"The Pan African Bank",watermark:"ECOBANK"},221:{name:"Stanbic IBTC Bank",code:"221",shortName:"Stanbic",email:"contactcentre@stanbicibtc.com",phone:"+234 1 422 2222",website:"www.stanbicibtcbank.com",address:"IBTC Place, Walter Carrington Crescent",city:"Victoria Island, Lagos",colors:{primary:"#0033A1",secondary:"#FFFFFF",rgb:[0,51,161]},tagline:"Moving Forward",watermark:"STANBIC IBTC"}},n={name:"United Bank for Africa",code:"033",shortName:"UBA",email:"contactcentre@ubagroup.com",phone:"+234 700 225 5822",website:"www.ubagroup.com",address:"UBA House, 57 Marina",city:"Lagos Island, Lagos",colors:{primary:"#D4002A",secondary:"#000000",rgb:[212,0,42]},tagline:"Africa's Global Bank",watermark:"UBA"};function s(e,t){if(e&&r[e])return r[e];if(t)return Object.values(r).find(e=>e.name.toLowerCase().includes(t.toLowerCase())||t.toLowerCase().includes(e.shortName.toLowerCase()))||n;return n}},39747:(e,t,a)=>{"use strict";a.d(t,{a:()=>n});var r=a(60125);let n={getSettings:async()=>(await r.A.get("/settings")).data,updateSettings:async e=>(await r.A.put("/settings",e)).data}},54526:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>F});var r=a(95155),n=a(12115),s=a(17215),o=a(7013),l=a(39867),i=a(77676),c=a(23061),d=a(86651),g=a(65229),m=a(16485),x=a(20017),p=a(71360),y=a(90368),u=a(27937),h=a(60125);let b={getTransactions:async()=>(await h.A.get("/transactions")).data};var f=a(88843),w=a(39747),k=a(11159),N=a(36859),v=a(38918),j=a(22663),A=a(55172),S=a(36941),C=a(54264),T=a.n(C);function F(){let[e,t]=(0,n.useState)([]),[a,h]=(0,n.useState)(!0),[C,F]=(0,n.useState)(null),[L,B]=(0,n.useState)("all"),[D,E]=(0,n.useState)(""),[I,z]=(0,n.useState)({start:"",end:""}),[P,M]=(0,n.useState)(!1),[U,O]=(0,n.useState)(1),[R,W]=(0,n.useState)(10),[G,H]=(0,n.useState)(null),[K,_]=(0,n.useState)(v.z7),[V,Y]=(0,n.useState)(null),[Z,q]=(0,n.useState)(null),[X,J]=(0,n.useState)(null),[$,Q]=(0,n.useState)({code:"NGN",symbol:"₦"}),ee=(0,n.useRef)(null),et=e=>new Promise((t,a)=>{let r=new Image;r.crossOrigin="anonymous",r.onload=()=>{let e=document.createElement("canvas");e.width=r.width,e.height=r.height;let n=e.getContext("2d");n?(n.drawImage(r,0,0),t(e.toDataURL("image/png"))):a(Error("Failed to get canvas context"))},r.onerror=()=>a(Error("Failed to load image: ".concat(e))),r.src=e});(0,n.useEffect)(()=>{eo(),er(),en(),es(),ea()},[]);let ea=async()=>{try{let e=(await k.y.getWallet()).currency||"NGN";Q({NGN:{symbol:"₦",code:"NGN"},USD:{symbol:"$",code:"USD"},GBP:{symbol:"\xa3",code:"GBP"},EUR:{symbol:"€",code:"EUR"},GHS:{symbol:"₵",code:"GHS"},KES:{symbol:"KSh",code:"KES"},ZAR:{symbol:"R",code:"ZAR"}}[e]||{symbol:e,code:e}),console.log("\uD83D\uDCB1 User currency:",e)}catch(e){console.error("Failed to fetch wallet currency:",e)}},er=async()=>{try{let e=await f.g.getProfile();Y(e)}catch(e){console.error("Failed to fetch user profile:",e)}},en=async()=>{try{let e=await N.s.getStatus();"NOT_SUBMITTED"!==e.status&&q(e)}catch(e){console.error("Failed to fetch KYC data:",e)}},es=async()=>{try{let e=await w.a.getSettings();J({email:e.general.supportEmail,phone:e.general.supportPhone,logo:e.general.logo||"/logo.png"}),console.log("\uD83D\uDDBC️ Logo URL:",e.general.logo);let t=e.general.bankCode,a=e.general.bankName||"First Bank of Nigeria";console.log("\uD83C\uDFDB️ Fetching bank branding..."),console.log("  - Bank Code from settings:",t),console.log("  - Bank Name from settings:",a);let r=(0,v.MH)(t,a);_(r),console.log("✅ Bank branding loaded:"),console.log("  - Name:",r.name),console.log("  - Code:",r.code),console.log("  - Primary Color:",r.colors.primary),console.log("  - Watermark:",r.watermark),console.log("\uD83D\uDCE7 Contact:",e.general.supportEmail,e.general.supportPhone)}catch(e){console.error("❌ Failed to fetch admin settings:",e)}},eo=async()=>{try{h(!0);let e=(await b.getTransactions()||[]).map(e=>{let t="number"==typeof e.signedAmount?e.signedAmount:Number(e.amount)||0;if("number"!=typeof e.signedAmount){let a=(e.description||"").toLowerCase();t>0&&(a.includes("debit")||a.includes("admin debit"))&&(t=-t)}return{...e,amount:t}});t(e)}catch(e){console.error("Failed to fetch transactions:",e),F("Failed to load transactions. Please try again."),j.Ay.error("Failed to load transactions"),t([])}finally{h(!1)}},el=(0,n.useMemo)(()=>{let t=I.start?new Date(I.start):null,a=I.end?new Date(I.end):null;return e.filter(e=>{var r,n;let s="all"===L||e.type===L,o=(e.description||"").toLowerCase().includes(D.toLowerCase())||(null==(r=e.recipientName)?void 0:r.toLowerCase().includes(D.toLowerCase()))||(null==(n=e.senderName)?void 0:n.toLowerCase().includes(D.toLowerCase())),l=!0;if(t&&(l=l&&new Date(e.createdAt)>=t),a){let t=new Date(a);t.setHours(23,59,59,999),l=l&&new Date(e.createdAt)<=t}return s&&o&&l})},[e,L,D,I]),ei=e=>{let t=(e||"completed").toLowerCase();return t.includes("pending")?"bg-amber-100 text-amber-700 dark:bg-amber-900/20 dark:text-amber-300":t.includes("fail")||t.includes("declin")?"bg-red-100 text-red-700 dark:bg-red-900/20 dark:text-red-400":"bg-green-100 text-green-700 dark:bg-green-900/20 dark:text-green-400"},ec=e=>"".concat(e>=0?"+":"-"," ").concat($.symbol).concat(Math.abs(e||0).toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})),ed=e=>"".concat(e>=0?"+":"-"," ").concat($.code," ").concat(Math.abs(e||0).toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})),eg=(0,n.useMemo)(()=>{let e=el.filter(e=>e.amount>=0).reduce((e,t)=>e+Math.abs(t.amount||0),0),t=el.filter(e=>e.amount<0).reduce((e,t)=>e+Math.abs(t.amount||0),0);return{count:el.length,income:e,expense:t}},[el]),em=()=>{B("all"),E(""),z({start:"",end:""}),O(1)},ex=async a=>{try{t(e.filter(e=>e.id!==a)),j.Ay.success("Transaction deleted successfully!"),H(null)}catch(e){console.error("Error deleting transaction:",e),j.Ay.error("Failed to delete transaction")}},ep=(0,n.useMemo)(()=>{let e=(U-1)*R,t=e+R;return el.slice(e,t)},[el,U,R]),ey=Math.ceil(el.length/R),eu=e=>{O(Math.max(1,Math.min(e,ey)))},eh=async()=>{try{let e=new A.Ay,t=e.internal.pageSize.getWidth(),a=e.internal.pageSize.getHeight(),r=(null==X?void 0:X.logo)||"/logo.png";if(r)try{let n=await et(r);e.saveGraphicsState(),e.setGState(new e.GState({opacity:.05})),e.addImage(n,"PNG",(t-100)/2,(a-100)/2,100,100),e.restoreGraphicsState()}catch(r){console.warn("Failed to load logo for watermark:",r),e.setFontSize(50),e.setTextColor(240,240,240),e.text(K.watermark,t/2,a/2,{align:"center",angle:45})}e.setTextColor(0,0,0);let[n,s,o]=K.colors.rgb;if(e.setFillColor(n,s,o),e.rect(0,0,t,35,"F"),r)try{let t=await et(r);e.addImage(t,"PNG",14,8,20,20),e.setFontSize(16),e.setTextColor(255,255,255),e.setFont("helvetica","bold"),e.text(K.name.toUpperCase(),38,15)}catch(t){console.warn("Failed to load logo for header:",t),e.setFontSize(20),e.setTextColor(255,255,255),e.setFont("helvetica","bold"),e.text(K.name.toUpperCase(),14,15)}else e.setFontSize(20),e.setTextColor(255,255,255),e.setFont("helvetica","bold"),e.text(K.name.toUpperCase(),14,15);e.setFontSize(8),e.setFont("helvetica","normal");let l=r?38:14;e.text(K.tagline,l,22),e.setFontSize(14),e.setFont("helvetica","bold"),e.text("TRANSACTION STATEMENT",t-14,15,{align:"right"}),e.setFontSize(8),e.setFont("helvetica","normal"),e.text("Official Bank Statement",t-14,20,{align:"right"}),e.setTextColor(0,0,0);let i=45;if(e.setFontSize(10),e.setFont("helvetica","bold"),e.text("Customer Information",14,i),e.setFont("helvetica","normal"),e.setFontSize(9),i+=7,V){let t="".concat(V.firstName||""," ").concat(V.lastName||"").trim();t&&(e.text("Name: ".concat(t),14,i),i+=5),V.email&&(e.text("Email: ".concat(V.email),14,i),i+=5)}if(Z&&Z.address){e.text("Address: ".concat(Z.address),14,i),i+=5;let t=[Z.city,Z.state,Z.country].filter(Boolean).join(", ");t&&(e.text("Location: ".concat(t),14,i),i+=5)}i+=3,e.setFont("helvetica","bold"),e.text("Statement Details",14,i),e.setFont("helvetica","normal"),i+=7,e.text("Generated: ".concat(new Date().toLocaleString("en-US",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"})),14,i),i+=6,e.text("Statement Period: ".concat(I.start||"All Time"," to ").concat(I.end||"Present"),14,i),i+=6,e.text("Total Transactions: ".concat(eg.count),14,i);let c=i+=8;e.setDrawColor(n,s,o),e.setLineWidth(.5),e.rect(14,c,t-28,25),e.setFontSize(10),e.setFont("helvetica","bold"),e.text("Financial Summary",18,c+7),e.setFont("helvetica","normal"),e.setFontSize(9),e.text("Total Inflow:",18,c+14),e.setTextColor(34,197,94),e.text("".concat(ed(eg.income)),60,c+14),e.setTextColor(0,0,0),e.text("Total Outflow:",18,c+20),e.setTextColor(239,68,68),e.text("".concat(ed(-eg.expense)),60,c+20),e.setTextColor(0,0,0);let d=el.map(e=>[new Date(e.createdAt).toLocaleDateString("en-US",{month:"short",day:"2-digit",year:"numeric"}),e.type.toUpperCase(),e.description.substring(0,40)+(e.description.length>40?"...":""),ed(e.amount),(e.status||"COMPLETED").toUpperCase()]);if((0,S.Ay)(e,{head:[["Date","Type","Description","Amount","Status"]],body:d,startY:c+35,styles:{fontSize:8,cellPadding:3},headStyles:{fillColor:K.colors.rgb,textColor:[255,255,255],fontStyle:"bold"},alternateRowStyles:{fillColor:[249,250,251]},columnStyles:{0:{cellWidth:25},1:{cellWidth:25},2:{cellWidth:70},3:{cellWidth:30,halign:"right"},4:{cellWidth:25,halign:"center"}}}),(e.lastAutoTable.finalY||200)<a-40){e.setFontSize(7),e.setTextColor(100,100,100),e.text("This is a computer-generated statement and does not require a signature.",t/2,a-25,{align:"center"});let r=(null==X?void 0:X.email)||K.email,n=(null==X?void 0:X.phone)||K.phone;e.text("For inquiries: ".concat(r," | ").concat(n),t/2,a-20,{align:"center"}),e.setFontSize(6);let s=window.location.origin;e.text("".concat(K.name," | ").concat(K.address,", ").concat(K.city,", Nigeria"),t/2,a-15,{align:"center"}),e.text("Licensed by the Central Bank of Nigeria | Member of NDIC | ".concat(s),t/2,a-11,{align:"center"}),e.setFontSize(6),e.text("Statement Ref: TXN-".concat(Date.now().toString(36).toUpperCase()),t/2,a-5,{align:"center"})}let g=K.shortName.replace(/[^a-zA-Z0-9]/g,"_");e.save("".concat(g,"_Statement_").concat(new Date().toISOString().split("T")[0],".pdf")),M(!1),j.Ay.success("Statement exported successfully!")}catch(e){console.error("Error exporting PDF:",e),j.Ay.error("Failed to export statement")}},eb=async()=>{if(ee.current)try{let e=document.createElement("div");e.style.cssText="\n        width: 1200px;\n        padding: 40px;\n        background: white;\n        font-family: Arial, sans-serif;\n      ";let t=(null==X?void 0:X.logo)||"/logo.png",a=document.createElement("div");a.style.cssText="\n        background: linear-gradient(135deg, ".concat(K.colors.primary," 0%, ").concat(K.colors.secondary," 100%);\n        padding: 30px;\n        margin: -40px -40px 30px -40px;\n        color: white;\n        position: relative;\n      "),a.innerHTML='\n        <div style="display: flex; justify-content: space-between; align-items: center;">\n          <div style="display: flex; align-items: center; gap: 15px;">\n            '.concat(t?'<img src="'.concat(t,'" alt="Logo" style="width: 60px; height: 60px; object-fit: contain; background: white; padding: 8px; border-radius: 8px;" onerror="this.style.display=\'none\'" />'):"",'\n            <div>\n              <h1 style="margin: 0; font-size: 32px; font-weight: bold; letter-spacing: 2px;">').concat(K.name.toUpperCase(),'</h1>\n              <p style="margin: 5px 0 0 0; font-size: 12px; opacity: 0.9;">').concat(K.tagline,'</p>\n            </div>\n          </div>\n          <div style="text-align: right;">\n            <h2 style="margin: 0; font-size: 20px; font-weight: bold;">TRANSACTION STATEMENT</h2>\n            <p style="margin: 5px 0 0 0; font-size: 11px; opacity: 0.9;">Official Bank Statement</p>\n          </div>\n        </div>\n      ');let r=document.createElement("div");r.style.cssText="\n        position: absolute;\n        top: 50%;\n        left: 50%;\n        transform: translate(-50%, -50%);\n        opacity: 0.04;\n        pointer-events: none;\n        z-index: 1;\n        white-space: nowrap;\n      ",t?r.innerHTML='<img src="'.concat(t,'" alt="Watermark" style="width: 300px; height: 300px; object-fit: contain;" onerror="this.style.display=\'none\'" />'):(r.style.cssText+="font-size: 80px; font-weight: bold; color: rgba(0, 0, 0, 1); transform: translate(-50%, -50%) rotate(-45deg);",r.textContent=K.watermark);let n=document.createElement("div");n.style.cssText="\n        background: #f9fafb;\n        padding: 20px;\n        border-radius: 8px;\n        margin-bottom: 20px;\n        border-left: 4px solid ".concat(K.colors.primary,";\n      ");let s=V?"".concat(V.firstName||""," ").concat(V.lastName||"").trim():"",o=(null==V?void 0:V.email)||"",l=(null==Z?void 0:Z.address)||"",i=Z?[Z.city,Z.state,Z.country].filter(Boolean).join(", "):"";n.innerHTML='\n        <h3 style="margin: 0 0 15px 0; color: #1f2937; font-size: 14px; font-weight: 600;">Customer Information</h3>\n        <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 10px; font-size: 12px; color: #4b5563;">\n          '.concat(s?"<div><strong>Name:</strong> ".concat(s,"</div>"):"","\n          ").concat(o?"<div><strong>Email:</strong> ".concat(o,"</div>"):"","\n          ").concat(l?"<div><strong>Address:</strong> ".concat(l,"</div>"):"","\n          ").concat(i?"<div><strong>Location:</strong> ".concat(i,"</div>"):"","\n        </div>\n      ");let c=document.createElement("div");c.style.cssText="\n        background: #f9fafb;\n        padding: 20px;\n        border-radius: 8px;\n        margin-bottom: 20px;\n        border-left: 4px solid ".concat(K.colors.primary,";\n      "),c.innerHTML='\n        <h3 style="margin: 0 0 15px 0; color: #1f2937; font-size: 14px; font-weight: 600;">Statement Details</h3>\n        <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 10px; font-size: 12px; color: #4b5563;">\n          <div><strong>Generated:</strong> '.concat(new Date().toLocaleString("en-US",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"}),"</div>\n          <div><strong>Period:</strong> ").concat(I.start||"All Time"," to ").concat(I.end||"Present","</div>\n          <div><strong>Total Transactions:</strong> ").concat(eg.count,"</div>\n          <div><strong>Reference:</strong> TXN-").concat(Date.now().toString(36).toUpperCase(),"</div>\n        </div>\n      ");let d=document.createElement("div");d.style.cssText="\n        display: grid;\n        grid-template-columns: 1fr 1fr;\n        gap: 20px;\n        margin-bottom: 30px;\n      ",d.innerHTML='\n        <div style="padding: 20px; background: #ecfdf5; border-radius: 8px; border-left: 4px solid #10b981;">\n          <p style="margin: 0; font-size: 11px; color: #047857; font-weight: 600;">TOTAL INFLOW</p>\n          <p style="margin: 8px 0 0 0; font-size: 24px; color: #059669; font-weight: bold;">'.concat(ec(eg.income),'</p>\n        </div>\n        <div style="padding: 20px; background: #fef2f2; border-radius: 8px; border-left: 4px solid #ef4444;">\n          <p style="margin: 0; font-size: 11px; color: #b91c1c; font-weight: 600;">TOTAL OUTFLOW</p>\n          <p style="margin: 8px 0 0 0; font-size: 24px; color: #dc2626; font-weight: bold;">').concat(ec(-eg.expense),"</p>\n        </div>\n      ");let g=ee.current.cloneNode(!0);g.style.position="relative",g.style.zIndex="2";let m=document.createElement("div");m.style.cssText="\n        margin-top: 40px;\n        padding-top: 20px;\n        border-top: 2px solid #e5e7eb;\n        text-align: center;\n        font-size: 10px;\n        color: #6b7280;\n      ";let x=(null==X?void 0:X.email)||K.email,p=(null==X?void 0:X.phone)||K.phone,y=window.location.origin;m.innerHTML='\n        <p style="margin: 5px 0;">This is a computer-generated statement and does not require a signature.</p>\n        <p style="margin: 5px 0;">For inquiries: '.concat(x," | ").concat(p,'</p>\n        <p style="margin: 10px 0 5px 0; font-size: 9px;">').concat(K.name," | ").concat(K.address,", ").concat(K.city,', Nigeria</p>\n        <p style="margin: 5px 0; font-size: 9px;">Licensed by the Central Bank of Nigeria | Member of NDIC | ').concat(y,"</p>\n      "),e.appendChild(r),e.appendChild(a),e.appendChild(n),e.appendChild(c),e.appendChild(d),e.appendChild(g),e.appendChild(m),e.style.position="absolute",e.style.left="-9999px",document.body.appendChild(e);let u=await T()(e,{backgroundColor:"#ffffff",scale:2,logging:!1,width:1200});document.body.removeChild(e);let h=u.toDataURL("image/png"),b=document.createElement("a");b.href=h;let f=K.shortName.replace(/[^a-zA-Z0-9]/g,"_");b.download="".concat(f,"_Statement_").concat(new Date().toISOString().split("T")[0],".png"),b.click(),M(!1),j.Ay.success("Statement image exported successfully!")}catch(e){console.error("Error exporting image:",e),j.Ay.error("Failed to export statement image")}};return(0,r.jsxs)("div",{className:"space-y-8",children:[(0,r.jsxs)("div",{className:"relative overflow-hidden rounded-2xl border border-gray-200 dark:border-gray-700 bg-gradient-to-br from-blue-600/10 via-blue-500/5 to-transparent dark:from-blue-400/10 dark:via-blue-300/5 p-6",children:[(0,r.jsxs)("div",{className:"flex flex-col md:flex-row md:items-end md:justify-between gap-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h1",{className:"text-2xl md:text-3xl font-bold tracking-tight text-gray-900 dark:text-white",children:"Transactions"}),(0,r.jsx)("p",{className:"text-sm md:text-base text-gray-600 dark:text-gray-300 mt-1",children:"Search, filter and export your transaction history"})]}),(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsxs)("button",{onClick:()=>M(!P),className:"inline-flex items-center gap-2 px-4 py-2 rounded-lg bg-blue-600 text-white hover:bg-blue-700 transition shadow-sm",children:[(0,r.jsx)(l.A,{className:"w-4 h-4"}),"Export"]}),P&&(0,r.jsxs)("div",{className:"absolute right-0 mt-2 w-48 bg-white dark:bg-gray-800 rounded-lg shadow-lg border border-gray-200 dark:border-gray-700 py-2 z-50",children:[(0,r.jsxs)("button",{onClick:()=>{let e=new Blob([["Date,Type,Description,Amount,Status",...el.map(e=>[new Date(e.createdAt).toLocaleDateString(),e.type,e.description,ec(e.amount),e.status||"Completed"]).map(e=>e.map(e=>'"'.concat(e,'"')).join(","))].join("\n")],{type:"text/csv;charset=utf-8;"}),t=document.createElement("a");t.href=URL.createObjectURL(e),t.download="transactions_".concat(new Date().toISOString().split("T")[0],".csv"),t.click(),M(!1),j.Ay.success("CSV exported successfully!")},className:"w-full px-4 py-2 text-left text-sm text-gray-700 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-700 flex items-center gap-2",children:[(0,r.jsx)(i.A,{className:"w-4 h-4"}),"Export as CSV"]}),(0,r.jsxs)("button",{onClick:eh,className:"w-full px-4 py-2 text-left text-sm text-gray-700 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-700 flex items-center gap-2",children:[(0,r.jsx)(i.A,{className:"w-4 h-4"}),"Export as PDF"]}),(0,r.jsxs)("button",{onClick:eb,className:"w-full px-4 py-2 text-left text-sm text-gray-700 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-700 flex items-center gap-2",children:[(0,r.jsx)(c.A,{className:"w-4 h-4"}),"Export as Image"]})]})]})]}),(0,r.jsxs)("div",{className:"mt-6 grid grid-cols-2 md:grid-cols-3 gap-3",children:[(0,r.jsxs)("div",{className:"rounded-xl border border-gray-200 dark:border-gray-700 bg-white/70 dark:bg-gray-800/70 backdrop-blur p-4",children:[(0,r.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Transactions"}),(0,r.jsx)("p",{className:"mt-1 text-lg font-semibold text-gray-900 dark:text-white",children:eg.count})]}),(0,r.jsxs)("div",{className:"rounded-xl border border-gray-200 dark:border-gray-700 bg-white/70 dark:bg-gray-800/70 backdrop-blur p-4",children:[(0,r.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Inflow"}),(0,r.jsx)("p",{className:"mt-1 text-lg font-semibold text-green-600",children:ec(eg.income)})]}),(0,r.jsxs)("div",{className:"rounded-xl border border-gray-200 dark:border-gray-700 bg-white/70 dark:bg-gray-800/70 backdrop-blur p-4 hidden md:block",children:[(0,r.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Outflow"}),(0,r.jsx)("p",{className:"mt-1 text-lg font-semibold text-red-600",children:ec(-eg.expense)})]})]})]}),(0,r.jsx)("div",{className:"rounded-2xl bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 p-4 md:p-5 space-y-4",children:(0,r.jsxs)("div",{className:"flex flex-col lg:flex-row gap-4",children:[(0,r.jsx)("div",{className:"flex-1",children:(0,r.jsxs)("div",{className:"relative group",children:[(0,r.jsx)(d.A,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),(0,r.jsx)("input",{type:"text",placeholder:"Search by description...",value:D,onChange:e=>E(e.target.value),className:"w-full pl-10 pr-10 py-2.5 rounded-lg border border-gray-200 dark:border-gray-600 bg-gray-50 dark:bg-gray-700/60 text-gray-900 dark:text-gray-100 placeholder:text-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500"}),D&&(0,r.jsx)("button",{"aria-label":"Clear search",onClick:()=>E(""),className:"absolute right-2.5 top-1/2 -translate-y-1/2 p-1 rounded hover:bg-gray-200/60 dark:hover:bg-gray-600/60",children:(0,r.jsx)(g.A,{className:"w-4 h-4 text-gray-400"})})]})}),(0,r.jsx)("div",{className:"grid grid-cols-2 sm:inline-flex rounded-lg border border-gray-200 dark:border-gray-600 overflow-hidden",children:[{key:"all",label:"All"},{key:"DEPOSIT",label:"Deposit"},{key:"TRANSFER",label:"Transfer"},{key:"WITHDRAWAL",label:"Withdrawal"},{key:"PAYMENT",label:"Payment"}].map(e=>(0,r.jsx)("button",{onClick:()=>B(e.key),className:"px-3 sm:px-4 py-2 text-sm font-medium transition focus:outline-none border-r last:border-r-0 border-gray-200 dark:border-gray-600 ".concat(L===e.key?"bg-blue-600 text-white":"bg-white dark:bg-gray-700 text-gray-700 dark:text-gray-200 hover:bg-gray-50 dark:hover:bg-gray-700/70"),children:e.label},e.key))}),(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)(m.A,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),(0,r.jsx)("input",{type:"date",value:I.start,onChange:e=>z({...I,start:e.target.value}),className:"pl-9 pr-3 py-2 rounded-lg border border-gray-200 dark:border-gray-600 bg-white dark:bg-gray-700 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),(0,r.jsx)("span",{className:"text-gray-400",children:"—"}),(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)(m.A,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),(0,r.jsx)("input",{type:"date",value:I.end,onChange:e=>z({...I,end:e.target.value}),className:"pl-9 pr-3 py-2 rounded-lg border border-gray-200 dark:border-gray-600 bg-white dark:bg-gray-700 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]}),(0,r.jsx)("div",{className:"flex lg:ml-auto",children:(0,r.jsx)("button",{onClick:em,className:"px-4 py-2 text-sm rounded-lg border border-gray-200 dark:border-gray-600 text-gray-700 dark:text-gray-200 hover:bg-gray-50 dark:hover:bg-gray-700",children:"Reset"})})]})}),(0,r.jsxs)("div",{className:"rounded-2xl bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 overflow-hidden",children:[(0,r.jsxs)("div",{className:"px-6 py-4 border-b border-gray-200 dark:border-gray-700 flex items-center justify-between",children:[(0,r.jsxs)("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Showing ",0===el.length?0:(U-1)*R+1," to ",Math.min(U*R,el.length)," of ",el.length," transactions"]}),(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)("label",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Per page:"}),(0,r.jsxs)("select",{value:R,onChange:e=>{W(Number(e.target.value)),O(1)},className:"px-3 py-1.5 rounded-lg border border-gray-200 dark:border-gray-600 bg-white dark:bg-gray-700 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",children:[(0,r.jsx)("option",{value:5,children:"5"}),(0,r.jsx)("option",{value:10,children:"10"}),(0,r.jsx)("option",{value:20,children:"20"}),(0,r.jsx)("option",{value:50,children:"50"}),(0,r.jsx)("option",{value:100,children:"100"})]})]})]}),(0,r.jsx)("div",{ref:ee,children:(0,r.jsx)("div",{className:"hidden md:block overflow-x-auto",children:(0,r.jsxs)("table",{className:"w-full text-sm",children:[(0,r.jsx)("thead",{className:"bg-gray-50 dark:bg-gray-700 sticky top-0 z-10",children:(0,r.jsxs)("tr",{className:"text-left text-gray-600 dark:text-gray-200",children:[(0,r.jsx)("th",{className:"px-6 py-4 font-semibold",children:"Date"}),(0,r.jsx)("th",{className:"px-6 py-4 font-semibold",children:"Type"}),(0,r.jsx)("th",{className:"px-6 py-4 font-semibold",children:"Description"}),(0,r.jsx)("th",{className:"px-6 py-4 font-semibold",children:"Amount"}),(0,r.jsx)("th",{className:"px-6 py-4 font-semibold",children:"Status"}),(0,r.jsx)("th",{className:"px-6 py-4 font-semibold",children:"Action"})]})}),(0,r.jsx)("tbody",{children:a?(0,r.jsx)("tr",{children:(0,r.jsx)("td",{colSpan:6,className:"px-6 py-16 text-center",children:(0,r.jsxs)("div",{className:"flex flex-col items-center gap-3 text-gray-500 dark:text-gray-400",children:[(0,r.jsx)("div",{className:"w-12 h-12 rounded-full border-4 border-blue-600 border-t-transparent animate-spin"}),(0,r.jsx)("p",{className:"font-medium",children:"Loading transactions..."})]})})}):C?(0,r.jsx)("tr",{children:(0,r.jsx)("td",{colSpan:6,className:"px-6 py-16 text-center",children:(0,r.jsxs)("div",{className:"flex flex-col items-center gap-3 text-gray-500 dark:text-gray-400",children:[(0,r.jsx)("div",{className:"w-12 h-12 rounded-full bg-red-100 dark:bg-red-900/20 grid place-items-center",children:(0,r.jsx)(g.A,{className:"w-6 h-6 text-red-600 dark:text-red-400"})}),(0,r.jsx)("p",{className:"font-medium text-red-600 dark:text-red-400",children:"Failed to load transactions"}),(0,r.jsx)("p",{className:"text-sm",children:C}),(0,r.jsx)("button",{onClick:eo,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors text-sm",children:"Retry"})]})})}):0===el.length?(0,r.jsx)("tr",{children:(0,r.jsx)("td",{colSpan:6,className:"px-6 py-16 text-center",children:(0,r.jsxs)("div",{className:"flex flex-col items-center gap-3 text-gray-500 dark:text-gray-400",children:[(0,r.jsx)("div",{className:"w-12 h-12 rounded-full bg-gray-100 dark:bg-gray-700 grid place-items-center",children:(0,r.jsx)(d.A,{className:"w-5 h-5"})}),(0,r.jsx)("p",{className:"font-medium",children:"No transactions match your filters"}),(0,r.jsx)("button",{onClick:em,className:"text-sm text-blue-600 hover:text-blue-700",children:"Clear filters"})]})})}):ep.map((e,t)=>(0,r.jsxs)("tr",{className:t%2?"bg-gray-50/50 dark:bg-gray-700/30":"",children:[(0,r.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-gray-700 dark:text-gray-200",children:new Date(e.createdAt).toLocaleDateString()}),(0,r.jsx)("td",{className:"px-6 py-4",children:(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[e.amount>=0?(0,r.jsx)(s.A,{className:"w-5 h-5 text-green-600"}):(0,r.jsx)(o.A,{className:"w-5 h-5 text-red-600"}),(0,r.jsx)("span",{className:"capitalize text-gray-800 dark:text-gray-100",children:e.type})]})}),(0,r.jsx)("td",{className:"px-6 py-4 text-gray-600 dark:text-gray-300",children:e.description}),(0,r.jsx)("td",{className:"px-6 py-4 font-semibold",children:(0,r.jsx)("span",{className:e.amount>=0?"text-green-600":"text-red-600",children:ec(e.amount)})}),(0,r.jsx)("td",{className:"px-6 py-4",children:(0,r.jsx)("span",{className:"inline-block px-2.5 py-1 rounded-full text-xs font-medium ".concat(ei(e.status)),children:e.status||"Completed"})}),(0,r.jsx)("td",{className:"px-6 py-4",children:(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)("button",{className:"p-1.5 rounded hover:bg-gray-200 dark:hover:bg-gray-600",children:(0,r.jsx)(x.A,{className:"w-4 h-4 text-gray-500"})}),G===e.id?(0,r.jsxs)("div",{className:"flex items-center gap-1",children:[(0,r.jsx)("button",{onClick:()=>ex(e.id),className:"px-2 py-1 text-xs bg-red-600 text-white rounded hover:bg-red-700",children:"Confirm"}),(0,r.jsx)("button",{onClick:()=>H(null),className:"px-2 py-1 text-xs bg-gray-300 dark:bg-gray-600 text-gray-700 dark:text-gray-200 rounded hover:bg-gray-400 dark:hover:bg-gray-500",children:"Cancel"})]}):(0,r.jsx)("button",{onClick:()=>H(e.id),className:"p-1.5 rounded hover:bg-red-100 dark:hover:bg-red-900/20 text-red-600 dark:text-red-400",title:"Delete transaction",children:(0,r.jsx)(p.A,{className:"w-4 h-4"})})]})})]},e.id))})]})})}),el.length>0&&(0,r.jsxs)("div",{className:"px-6 py-4 border-t border-gray-200 dark:border-gray-700 flex items-center justify-between",children:[(0,r.jsxs)("button",{onClick:()=>eu(U-1),disabled:1===U,className:"inline-flex items-center gap-2 px-4 py-2 rounded-lg border border-gray-200 dark:border-gray-600 text-gray-700 dark:text-gray-200 hover:bg-gray-50 dark:hover:bg-gray-700 disabled:opacity-50 disabled:cursor-not-allowed",children:[(0,r.jsx)(y.A,{className:"w-4 h-4"}),"Previous"]}),(0,r.jsx)("div",{className:"flex items-center gap-2",children:Array.from({length:Math.min(5,ey)},(e,t)=>{let a;return a=ey<=5||U<=3?t+1:U>=ey-2?ey-4+t:U-2+t,(0,r.jsx)("button",{onClick:()=>eu(a),className:"w-10 h-10 rounded-lg font-medium transition ".concat(U===a?"bg-blue-600 text-white":"border border-gray-200 dark:border-gray-600 text-gray-700 dark:text-gray-200 hover:bg-gray-50 dark:hover:bg-gray-700"),children:a},a)})}),(0,r.jsxs)("button",{onClick:()=>eu(U+1),disabled:U===ey,className:"inline-flex items-center gap-2 px-4 py-2 rounded-lg border border-gray-200 dark:border-gray-600 text-gray-700 dark:text-gray-200 hover:bg-gray-50 dark:hover:bg-gray-700 disabled:opacity-50 disabled:cursor-not-allowed",children:["Next",(0,r.jsx)(u.A,{className:"w-4 h-4"})]})]}),(0,r.jsx)("div",{className:"md:hidden divide-y divide-gray-200 dark:divide-gray-700",children:a?(0,r.jsx)("div",{className:"p-8 text-center text-gray-500 dark:text-gray-400",children:"Loading..."}):C?(0,r.jsxs)("div",{className:"p-8 text-center",children:[(0,r.jsx)("p",{className:"text-red-600 dark:text-red-400 mb-2",children:"Failed to load transactions"}),(0,r.jsx)("button",{onClick:eo,className:"text-blue-600 font-medium",children:"Retry"})]}):0===el.length?(0,r.jsx)("div",{className:"p-8 text-center text-gray-500 dark:text-gray-400",children:"No transactions"}):ep.map(e=>{let t=e.amount>=0;return(0,r.jsxs)("div",{className:"p-4 flex items-start justify-between gap-4",children:[(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[(0,r.jsx)("div",{className:"p-2 rounded-lg ".concat(t?"bg-green-100 dark:bg-green-900/20":"bg-red-100 dark:bg-red-900/20"),children:t?(0,r.jsx)(s.A,{className:"w-4 h-4 text-green-600"}):(0,r.jsx)(o.A,{className:"w-4 h-4 text-red-600"})}),(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-sm font-medium text-gray-900 dark:text-white",children:e.description}),(0,r.jsxs)("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-0.5",children:[new Date(e.createdAt).toLocaleDateString()," • ",(0,r.jsx)("span",{className:"font-medium ".concat(ei(e.status).split(" ")[1]),children:e.status||"Completed"})]})]})]}),(0,r.jsxs)("div",{className:"text-right",children:[(0,r.jsx)("p",{className:"text-sm font-semibold ".concat(t?"text-green-600":"text-red-600"),children:ec(e.amount)}),(0,r.jsxs)("div",{className:"mt-2 flex items-center gap-2 justify-end",children:[(0,r.jsx)("button",{className:"p-1.5 rounded hover:bg-gray-200 dark:hover:bg-gray-600",children:(0,r.jsx)(x.A,{className:"w-4 h-4 text-gray-500"})}),G===e.id?(0,r.jsxs)("div",{className:"flex items-center gap-1",children:[(0,r.jsx)("button",{onClick:()=>ex(e.id),className:"px-2 py-1 text-xs bg-red-600 text-white rounded",children:"Delete"}),(0,r.jsx)("button",{onClick:()=>H(null),className:"px-2 py-1 text-xs bg-gray-300 dark:bg-gray-600 rounded",children:"Cancel"})]}):(0,r.jsx)("button",{onClick:()=>H(e.id),className:"p-1.5 rounded hover:bg-red-100 dark:hover:bg-red-900/20 text-red-600",children:(0,r.jsx)(p.A,{className:"w-4 h-4"})})]})]})]},e.id)})})]})]})}},60125:(e,t,a)=>{"use strict";a.d(t,{A:()=>n});let r=a(95125).A.create({baseURL:"http://localhost:3001/api",timeout:3e4,headers:{"Content-Type":"application/json"}});r.interceptors.request.use(e=>{{let t=localStorage.getItem("accessToken");t&&(e.headers.Authorization="Bearer ".concat(t))}return e},e=>Promise.reject(e)),r.interceptors.response.use(e=>e,async e=>{var t,a,r,n,s,o,l,i;if(!e.response)return Promise.reject(Error("Cannot connect to server. Please ensure the backend is running on http://localhost:3001"));if((null==(t=e.response)?void 0:t.status)!==404){let t=(null==(r=e.response)?void 0:r.status)===401?"\uD83D\uDD12":(null==(n=e.response)?void 0:n.status)===404?"\uD83D\uDD0D":"❌";console.warn("".concat(t," API ").concat(null==(s=e.response)?void 0:s.status,":"),null==(o=e.config)?void 0:o.url,(null==(i=e.response)||null==(l=i.data)?void 0:l.message)||e.message)}return(null==(a=e.response)?void 0:a.status)===401&&(console.log("\uD83D\uDD12 Unauthorized - redirecting to login"),localStorage.removeItem("accessToken"),localStorage.removeItem("refreshToken"),window.location.href="/login"),Promise.reject(e)});let n=r},88843:(e,t,a)=>{"use strict";a.d(t,{g:()=>n});var r=a(60125);let n={getProfile:async()=>(await r.A.get("/auth/me")).data,updateProfile:async e=>(await r.A.put("/auth/me",e)).data}}},e=>{e.O(0,[5033,3930,4316,5125,2663,4700,8441,1255,7358],()=>e(e.s=1914)),_N_E=e.O()}]);