{"version":3,"sources":["../../../src/modules/auth/auth.module.ts"],"sourcesContent":["import { Module } from '@nestjs/common';\r\nimport { JwtModule } from '@nestjs/jwt';\r\nimport { PassportModule } from '@nestjs/passport';\r\nimport { ConfigModule, ConfigService } from '@nestjs/config';\r\nimport { AuthController } from './auth.controller';\r\nimport { AuthService } from './auth.service';\r\nimport { JwtStrategy } from './strategies/jwt.strategy';\r\nimport { UsersModule } from '../users/users.module';\r\nimport { EmailService } from '../../common/services/email.service';\r\nimport { SettingsModule } from '../settings/settings.module';\r\nimport { OtpModule } from '../otp/otp.module';\r\n\r\n@Module({\r\n  imports: [\r\n    UsersModule,\r\n    SettingsModule,\r\n    OtpModule,\r\n    PassportModule.register({ defaultStrategy: 'jwt' }),\r\n    JwtModule.registerAsync({\r\n      imports: [ConfigModule],\r\n      useFactory: async (configService: ConfigService) => ({\r\n        secret: configService.get<string>('JWT_SECRET') || 'default-secret',\r\n        signOptions: {\r\n          expiresIn: '7d',\r\n        },\r\n      }),\r\n      inject: [ConfigService],\r\n    }),\r\n  ],\r\n  controllers: [AuthController],\r\n  providers: [AuthService, JwtStrategy, EmailService],\r\n  exports: [AuthService, JwtStrategy, PassportModule],\r\n})\r\nexport class AuthModule {}\r\n"],"names":["AuthModule","imports","UsersModule","SettingsModule","OtpModule","PassportModule","register","defaultStrategy","JwtModule","registerAsync","ConfigModule","useFactory","configService","secret","get","signOptions","expiresIn","inject","ConfigService","controllers","AuthController","providers","AuthService","JwtStrategy","EmailService","exports"],"mappings":";;;;+BAiCaA;;;eAAAA;;;wBAjCU;qBACG;0BACK;wBACa;gCACb;6BACH;6BACA;6BACA;8BACC;gCACE;2BACL;;;;;;;AAuBnB,IAAA,AAAMA,aAAN,MAAMA;AAAY;;;QApBvBC,SAAS;YACPC,wBAAW;YACXC,8BAAc;YACdC,oBAAS;YACTC,wBAAc,CAACC,QAAQ,CAAC;gBAAEC,iBAAiB;YAAM;YACjDC,cAAS,CAACC,aAAa,CAAC;gBACtBR,SAAS;oBAACS,oBAAY;iBAAC;gBACvBC,YAAY,OAAOC,gBAAkC,CAAA;wBACnDC,QAAQD,cAAcE,GAAG,CAAS,iBAAiB;wBACnDC,aAAa;4BACXC,WAAW;wBACb;oBACF,CAAA;gBACAC,QAAQ;oBAACC,qBAAa;iBAAC;YACzB;SACD;QACDC,aAAa;YAACC,8BAAc;SAAC;QAC7BC,WAAW;YAACC,wBAAW;YAAEC,wBAAW;YAAEC,0BAAY;SAAC;QACnDC,SAAS;YAACH,wBAAW;YAAEC,wBAAW;YAAElB,wBAAc;SAAC"}