{"version":3,"sources":["../../../src/modules/notification/notification.controller.ts"],"sourcesContent":["import { Controller, Get, Patch, Post, Delete, Param, UseGuards, Req } from '@nestjs/common';\r\nimport { NotificationService } from './notification.service';\r\nimport { JwtAuthGuard } from '../../common/guards/jwt-auth.guard';\r\n\r\n@Controller('notifications')\r\n@UseGuards(JwtAuthGuard)\r\nexport class NotificationController {\r\n  constructor(private notificationService: NotificationService) {}\r\n\r\n  @Get()\r\n  async getUserNotifications(@Req() req) {\r\n    return this.notificationService.getUserNotifications(req.user.userId);\r\n  }\r\n\r\n  @Get('unread-count')\r\n  async getUnreadCount(@Req() req) {\r\n    const count = await this.notificationService.getUnreadCount(req.user.userId);\r\n    return { count };\r\n  }\r\n\r\n  @Patch(':id/read')\r\n  async markAsRead(@Param('id') id: string, @Req() req) {\r\n    return this.notificationService.markAsRead(id, req.user.userId);\r\n  }\r\n\r\n  @Post('mark-all-read')\r\n  async markAllAsRead(@Req() req) {\r\n    await this.notificationService.markAllAsRead(req.user.userId);\r\n    return { message: 'All notifications marked as read' };\r\n  }\r\n\r\n  @Delete(':id')\r\n  async deleteNotification(@Param('id') id: string, @Req() req) {\r\n    await this.notificationService.deleteNotification(id, req.user.userId);\r\n    return { message: 'Notification deleted successfully' };\r\n  }\r\n\r\n  @Post('delete-all')\r\n  async deleteAllNotifications(@Req() req) {\r\n    await this.notificationService.deleteAllNotifications(req.user.userId);\r\n    return { message: 'All notifications deleted successfully' };\r\n  }\r\n}\r\n"],"names":["NotificationController","getUserNotifications","req","notificationService","user","userId","getUnreadCount","count","markAsRead","id","markAllAsRead","message","deleteNotification","deleteAllNotifications"],"mappings":";;;;+BAMaA;;;eAAAA;;;wBAN+D;qCACxC;8BACP;;;;;;;;;;;;;;;AAItB,IAAA,AAAMA,yBAAN,MAAMA;IAGX,MACMC,qBAAqB,AAAOC,GAAG,EAAE;QACrC,OAAO,IAAI,CAACC,mBAAmB,CAACF,oBAAoB,CAACC,IAAIE,IAAI,CAACC,MAAM;IACtE;IAEA,MACMC,eAAe,AAAOJ,GAAG,EAAE;QAC/B,MAAMK,QAAQ,MAAM,IAAI,CAACJ,mBAAmB,CAACG,cAAc,CAACJ,IAAIE,IAAI,CAACC,MAAM;QAC3E,OAAO;YAAEE;QAAM;IACjB;IAEA,MACMC,WAAW,AAAaC,EAAU,EAAE,AAAOP,GAAG,EAAE;QACpD,OAAO,IAAI,CAACC,mBAAmB,CAACK,UAAU,CAACC,IAAIP,IAAIE,IAAI,CAACC,MAAM;IAChE;IAEA,MACMK,cAAc,AAAOR,GAAG,EAAE;QAC9B,MAAM,IAAI,CAACC,mBAAmB,CAACO,aAAa,CAACR,IAAIE,IAAI,CAACC,MAAM;QAC5D,OAAO;YAAEM,SAAS;QAAmC;IACvD;IAEA,MACMC,mBAAmB,AAAaH,EAAU,EAAE,AAAOP,GAAG,EAAE;QAC5D,MAAM,IAAI,CAACC,mBAAmB,CAACS,kBAAkB,CAACH,IAAIP,IAAIE,IAAI,CAACC,MAAM;QACrE,OAAO;YAAEM,SAAS;QAAoC;IACxD;IAEA,MACME,uBAAuB,AAAOX,GAAG,EAAE;QACvC,MAAM,IAAI,CAACC,mBAAmB,CAACU,sBAAsB,CAACX,IAAIE,IAAI,CAACC,MAAM;QACrE,OAAO;YAAEM,SAAS;QAAyC;IAC7D;IAlCA,YAAY,AAAQR,mBAAwC,CAAE;aAA1CA,sBAAAA;IAA2C;AAmCjE"}