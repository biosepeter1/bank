{"version":3,"sources":["../../../../src/modules/payments/dto/payment.dto.ts"],"sourcesContent":["import { ApiProperty } from '@nestjs/swagger';\r\nimport { IsNotEmpty, IsString, IsNumber, IsOptional, IsEmail, Min, IsArray, IsEnum } from 'class-validator';\r\nimport { PaymentMethod, PaymentProvider } from '@prisma/client';\r\n\r\nexport class InitiateDepositDto {\r\n  @ApiProperty({ \r\n    description: 'Amount to deposit in Naira',\r\n    example: 5000,\r\n    minimum: 100\r\n  })\r\n  @IsNotEmpty()\r\n  @IsNumber()\r\n  @Min(100, { message: 'Minimum deposit amount is ₦100' })\r\n  amount: number;\r\n\r\n  @ApiProperty({ \r\n    description: 'Payment method',\r\n    enum: PaymentMethod,\r\n    example: PaymentMethod.CARD\r\n  })\r\n  @IsNotEmpty()\r\n  @IsEnum(PaymentMethod)\r\n  method: PaymentMethod;\r\n\r\n  @ApiProperty({ \r\n    description: 'Description for the deposit',\r\n    example: 'Wallet top-up',\r\n    required: false\r\n  })\r\n  @IsOptional()\r\n  @IsString()\r\n  description?: string;\r\n\r\n  @ApiProperty({ \r\n    description: 'Callback URL after payment',\r\n    example: 'https://yourapp.com/payment/callback',\r\n    required: false\r\n  })\r\n  @IsOptional()\r\n  @IsString()\r\n  callbackUrl?: string;\r\n}\r\n\r\nexport class VerifyPaymentDto {\r\n  @ApiProperty({ \r\n    description: 'Payment reference to verify',\r\n    example: 'RDN_1634567890123_ABC123'\r\n  })\r\n  @IsNotEmpty()\r\n  @IsString()\r\n  reference: string;\r\n}\r\n\r\nexport class AddBankAccountDto {\r\n  @ApiProperty({ \r\n    description: 'Account holder name',\r\n    example: 'John Doe'\r\n  })\r\n  @IsNotEmpty()\r\n  @IsString()\r\n  accountName: string;\r\n\r\n  @ApiProperty({ \r\n    description: 'Bank account number',\r\n    example: '0123456789'\r\n  })\r\n  @IsNotEmpty()\r\n  @IsString()\r\n  accountNumber: string;\r\n\r\n  @ApiProperty({ \r\n    description: 'Bank name',\r\n    example: 'Access Bank'\r\n  })\r\n  @IsNotEmpty()\r\n  @IsString()\r\n  bankName: string;\r\n\r\n  @ApiProperty({ \r\n    description: 'Bank code',\r\n    example: '044'\r\n  })\r\n  @IsNotEmpty()\r\n  @IsString()\r\n  bankCode: string;\r\n\r\n  @ApiProperty({ \r\n    description: 'Set as primary account',\r\n    example: false,\r\n    required: false,\r\n    default: false\r\n  })\r\n  @IsOptional()\r\n  isPrimary?: boolean;\r\n}\r\n\r\nexport class InitiateWithdrawalDto {\r\n  @ApiProperty({ \r\n    description: 'Amount to withdraw in Naira',\r\n    example: 2000,\r\n    minimum: 500\r\n  })\r\n  @IsNotEmpty()\r\n  @IsNumber()\r\n  @Min(500, { message: 'Minimum withdrawal amount is ₦500' })\r\n  amount: number;\r\n\r\n  @ApiProperty({ \r\n    description: 'Bank account ID to withdraw to',\r\n    example: 'uuid-string'\r\n  })\r\n  @IsNotEmpty()\r\n  @IsString()\r\n  bankAccountId: string;\r\n\r\n  @ApiProperty({ \r\n    description: 'Reason for withdrawal',\r\n    example: 'Personal use',\r\n    required: false\r\n  })\r\n  @IsOptional()\r\n  @IsString()\r\n  description?: string;\r\n}\r\n\r\nexport class BankListResponseDto {\r\n  @ApiProperty({ description: 'Bank name', example: 'Access Bank' })\r\n  name: string;\r\n\r\n  @ApiProperty({ description: 'Bank code', example: '044' })\r\n  code: string;\r\n\r\n  @ApiProperty({ description: 'Bank slug', example: 'access-bank' })\r\n  slug: string;\r\n\r\n  @ApiProperty({ description: 'Supports transfers', example: true })\r\n  supports_transfer: boolean;\r\n}\r\n\r\nexport class PaymentStatusResponseDto {\r\n  @ApiProperty({ description: 'Payment ID' })\r\n  id: string;\r\n\r\n  @ApiProperty({ description: 'Payment reference' })\r\n  reference: string;\r\n\r\n  @ApiProperty({ description: 'Payment amount' })\r\n  amount: number;\r\n\r\n  @ApiProperty({ description: 'Payment status' })\r\n  status: string;\r\n\r\n  @ApiProperty({ description: 'Payment provider' })\r\n  provider: string;\r\n\r\n  @ApiProperty({ description: 'Payment method' })\r\n  method: string;\r\n\r\n  @ApiProperty({ description: 'Authorization URL', required: false })\r\n  authorizationUrl?: string;\r\n\r\n  @ApiProperty({ description: 'Created timestamp' })\r\n  createdAt: Date;\r\n\r\n  @ApiProperty({ description: 'Updated timestamp' })\r\n  updatedAt: Date;\r\n}\r\n\r\nexport class BankAccountResponseDto {\r\n  @ApiProperty({ description: 'Bank account ID' })\r\n  id: string;\r\n\r\n  @ApiProperty({ description: 'Account name' })\r\n  accountName: string;\r\n\r\n  @ApiProperty({ description: 'Account number' })\r\n  accountNumber: string;\r\n\r\n  @ApiProperty({ description: 'Bank name' })\r\n  bankName: string;\r\n\r\n  @ApiProperty({ description: 'Bank code' })\r\n  bankCode: string;\r\n\r\n  @ApiProperty({ description: 'Is verified' })\r\n  isVerified: boolean;\r\n\r\n  @ApiProperty({ description: 'Is primary account' })\r\n  isPrimary: boolean;\r\n\r\n  @ApiProperty({ description: 'Created timestamp' })\r\n  createdAt: Date;\r\n}\r\n\r\nexport class WithdrawalResponseDto {\r\n  @ApiProperty({ description: 'Withdrawal ID' })\r\n  id: string;\r\n\r\n  @ApiProperty({ description: 'Withdrawal reference' })\r\n  reference: string;\r\n\r\n  @ApiProperty({ description: 'Withdrawal amount' })\r\n  amount: number;\r\n\r\n  @ApiProperty({ description: 'Processing fee' })\r\n  fee: number;\r\n\r\n  @ApiProperty({ description: 'Total amount (amount + fee)' })\r\n  totalAmount: number;\r\n\r\n  @ApiProperty({ description: 'Withdrawal status' })\r\n  status: string;\r\n\r\n  @ApiProperty({ description: 'Bank account details', nullable: true })\r\n  bankAccount: BankAccountResponseDto | null;\r\n\r\n  @ApiProperty({ description: 'Requested timestamp' })\r\n  requestedAt: Date;\r\n\r\n  @ApiProperty({ description: 'Processed timestamp', required: false, nullable: true })\r\n  processedAt?: Date | null;\r\n}\r\n\r\nexport class ResolveAccountDto {\r\n  @ApiProperty({ \r\n    description: 'Bank account number',\r\n    example: '0123456789'\r\n  })\r\n  @IsNotEmpty()\r\n  @IsString()\r\n  accountNumber: string;\r\n\r\n  @ApiProperty({ \r\n    description: 'Bank code',\r\n    example: '044'\r\n  })\r\n  @IsNotEmpty()\r\n  @IsString()\r\n  bankCode: string;\r\n}\r\n\r\nexport class ResolveAccountResponseDto {\r\n  @ApiProperty({ description: 'Account number' })\r\n  accountNumber: string;\r\n\r\n  @ApiProperty({ description: 'Account name' })\r\n  accountName: string;\r\n\r\n  @ApiProperty({ description: 'Bank ID' })\r\n  bankId: number;\r\n}"],"names":["AddBankAccountDto","BankAccountResponseDto","BankListResponseDto","InitiateDepositDto","InitiateWithdrawalDto","PaymentStatusResponseDto","ResolveAccountDto","ResolveAccountResponseDto","VerifyPaymentDto","WithdrawalResponseDto","description","example","minimum","message","enum","PaymentMethod","CARD","required","default","nullable"],"mappings":";;;;;;;;;;;QAqDaA;eAAAA;;QAmHAC;eAAAA;;QA3CAC;eAAAA;;QAzHAC;eAAAA;;QA4FAC;eAAAA;;QA2CAC;eAAAA;;QAoFAC;eAAAA;;QAkBAC;eAAAA;;QAtMAC;eAAAA;;QAuJAC;eAAAA;;;yBAlMe;gCAC8D;wBAC3C;;;;;;;;;;AAExC,IAAA,AAAMN,qBAAN,MAAMA;AAqCb;;;QAnCIO,aAAa;QACbC,SAAS;QACTC,SAAS;;;;;QAICC,SAAS;;;;;;QAInBH,aAAa;QACbI,MAAMC,qBAAa;QACnBJ,SAASI,qBAAa,CAACC,IAAI;;;;;;;;QAO3BN,aAAa;QACbC,SAAS;QACTM,UAAU;;;;;;;;QAOVP,aAAa;QACbC,SAAS;QACTM,UAAU;;;;;;AAOP,IAAA,AAAMT,mBAAN,MAAMA;AAQb;;;QANIE,aAAa;QACbC,SAAS;;;;;;AAON,IAAA,AAAMX,oBAAN,MAAMA;AAyCb;;;QAvCIU,aAAa;QACbC,SAAS;;;;;;;;QAOTD,aAAa;QACbC,SAAS;;;;;;;;QAOTD,aAAa;QACbC,SAAS;;;;;;;;QAOTD,aAAa;QACbC,SAAS;;;;;;;;QAOTD,aAAa;QACbC,SAAS;QACTM,UAAU;QACVC,SAAS;;;;;AAMN,IAAA,AAAMd,wBAAN,MAAMA;AA2Bb;;;QAzBIM,aAAa;QACbC,SAAS;QACTC,SAAS;;;;;QAICC,SAAS;;;;;;QAInBH,aAAa;QACbC,SAAS;;;;;;;;QAOTD,aAAa;QACbC,SAAS;QACTM,UAAU;;;;;;AAOP,IAAA,AAAMf,sBAAN,MAAMA;AAYb;;;QAXiBQ,aAAa;QAAaC,SAAS;;;;;;QAGnCD,aAAa;QAAaC,SAAS;;;;;;QAGnCD,aAAa;QAAaC,SAAS;;;;;;QAGnCD,aAAa;QAAsBC,SAAS;;;;AAItD,IAAA,AAAMN,2BAAN,MAAMA;AA2Bb;;;QA1BiBK,aAAa;;;;;;QAGbA,aAAa;;;;;;QAGbA,aAAa;;;;;;QAGbA,aAAa;;;;;;QAGbA,aAAa;;;;;;QAGbA,aAAa;;;;;;QAGbA,aAAa;QAAqBO,UAAU;;;;;;QAG5CP,aAAa;;;;;;QAGbA,aAAa;;;;AAIvB,IAAA,AAAMT,yBAAN,MAAMA;AAwBb;;;QAvBiBS,aAAa;;;;;;QAGbA,aAAa;;;;;;QAGbA,aAAa;;;;;;QAGbA,aAAa;;;;;;QAGbA,aAAa;;;;;;QAGbA,aAAa;;;;;;QAGbA,aAAa;;;;;;QAGbA,aAAa;;;;AAIvB,IAAA,AAAMD,wBAAN,MAAMA;AA2Bb;;;QA1BiBC,aAAa;;;;;;QAGbA,aAAa;;;;;;QAGbA,aAAa;;;;;;QAGbA,aAAa;;;;;;QAGbA,aAAa;;;;;;QAGbA,aAAa;;;;;;QAGbA,aAAa;QAAwBS,UAAU;;;;;;QAG/CT,aAAa;;;;;;QAGbA,aAAa;QAAuBO,UAAU;QAAOE,UAAU;;;;AAIzE,IAAA,AAAMb,oBAAN,MAAMA;AAgBb;;;QAdII,aAAa;QACbC,SAAS;;;;;;;;QAOTD,aAAa;QACbC,SAAS;;;;;;AAON,IAAA,AAAMJ,4BAAN,MAAMA;AASb;;;QARiBG,aAAa;;;;;;QAGbA,aAAa;;;;;;QAGbA,aAAa"}