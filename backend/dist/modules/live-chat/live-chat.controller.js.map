{"version":3,"sources":["../../../src/modules/live-chat/live-chat.controller.ts"],"sourcesContent":["import { Controller, Get, Param, Post, Body, UseGuards, Query } from '@nestjs/common';\r\nimport { LiveChatService } from './live-chat.service';\r\nimport { ApiTags, ApiOperation } from '@nestjs/swagger';\r\n\r\n@ApiTags('Live Chat')\r\n@Controller('live-chat')\r\nexport class LiveChatController {\r\n    constructor(private readonly liveChatService: LiveChatService) { }\r\n\r\n    @Get('sessions')\r\n    @ApiOperation({ summary: 'Get all chat sessions (Admin)' })\r\n    async getSessions(@Query('status') status?: 'QUEUED' | 'ACTIVE' | 'ENDED') {\r\n        return this.liveChatService.getSessions(status);\r\n    }\r\n\r\n    @Get('admin/sessions')\r\n    @ApiOperation({ summary: 'Get all chat sessions for Admin Dashboard' })\r\n    async getAdminSessions(@Query('status') status?: 'QUEUED' | 'ACTIVE' | 'ENDED') {\r\n        return this.liveChatService.getSessions(status);\r\n    }\r\n\r\n    @Get('sessions/:id')\r\n    @ApiOperation({ summary: 'Get a specific session with messages' })\r\n    async getSession(@Param('id') id: string) {\r\n        return this.liveChatService.getSession(id);\r\n    }\r\n\r\n    @Post('sessions/:id/end')\r\n    @ApiOperation({ summary: 'End a chat session' })\r\n    async endSession(@Param('id') id: string) {\r\n        return this.liveChatService.endSession(id);\r\n    }\r\n}\r\n"],"names":["LiveChatController","getSessions","status","liveChatService","getAdminSessions","getSession","id","endSession","summary"],"mappings":";;;;+BAMaA;;;eAAAA;;;wBANwD;iCACrC;yBACM;;;;;;;;;;;;;;;AAI/B,IAAA,AAAMA,qBAAN,MAAMA;IAGT,MAEMC,YAAY,AAAiBC,MAAsC,EAAE;QACvE,OAAO,IAAI,CAACC,eAAe,CAACF,WAAW,CAACC;IAC5C;IAEA,MAEME,iBAAiB,AAAiBF,MAAsC,EAAE;QAC5E,OAAO,IAAI,CAACC,eAAe,CAACF,WAAW,CAACC;IAC5C;IAEA,MAEMG,WAAW,AAAaC,EAAU,EAAE;QACtC,OAAO,IAAI,CAACH,eAAe,CAACE,UAAU,CAACC;IAC3C;IAEA,MAEMC,WAAW,AAAaD,EAAU,EAAE;QACtC,OAAO,IAAI,CAACH,eAAe,CAACI,UAAU,CAACD;IAC3C;IAxBA,YAAY,AAAiBH,eAAgC,CAAE;aAAlCA,kBAAAA;IAAoC;AAyBrE;;;;QAtBoBK,SAAS;;;;;;;;;;;;QAMTA,SAAS;;;;;;;;;;;;QAMTA,SAAS;;;;;;;;;;;;QAMTA,SAAS"}